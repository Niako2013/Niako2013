;/*FB_PKG_DELIM*/

__d("Comet3DPhotoLoadingOverlay.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={cubeInvisible:{opacity:"xg01cxk",$$css:!0},cubeRoot:{height:"xy75621",start:"xtzzx4i",pointerEvents:"x47corl",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDuration:"xippbsu",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"xni59qk",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.isVisible;var e;b[0]!==a?(e=(h||(h=c("stylex"))).props(k.cubeRoot,!a&&k.cubeInvisible),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsx("div",babelHelpers["extends"]({},e,{children:a})),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("CometFeedStoryImmersiveMediaMouseOverlay.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mouseInvisible:{opacity:"xg01cxk",$$css:!0},mouseLeftButton:{backgroundColor:"x14hiurz",height:"x1hagigm",position:"x10l6tqk",width:"x1xc55vz",$$css:!0},mouseLeftButtonClick:{animationDuration:"x1c74tu6",animationIterationCount:"xa4qsjk",animationName:"x1176mnt",$$css:!0},mouseRoot:{bottom:"xn0vg7t",start:"xtzzx4i",opacity:"x1hc1fzr",pointerEvents:"x47corl",position:"x10l6tqk",transform:"xjebx4m",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.descriptionFbt,f=a.isActive;a=a.showClick;var g;b[0]!==f?(g=(h||(h=c("stylex"))).props(k.mouseRoot,!f&&k.mouseInvisible),b[0]=f,b[1]=g):g=b[1];var i,l,m,n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1c74tu6 xa4qsjk xszg11z xy58vm5 x10w6t97 xtzzx4i x1kpxzk0 x10l6tqk x1xp8n7a"},i={className:"x1c74tu6 xa4qsjk xsjn2wy"},l={className:"x1c74tu6 xa4qsjk xw8ys2m"},m=j.jsx("div",{className:"x1h6ucep x13zp6kq x1mcfq15 xrosliz x1wb7cse xc9qbxq x10l6tqk xwdmxg7 x17z2i9w"}),n={className:"x12myldv x1udsgas x5pf9jr xo71vjh xegnrdp x6ikm8r x10wlt62 x10l6tqk x809xjq x1xp8n7a"},b[2]=f,b[3]=i,b[4]=l,b[5]=m,b[6]=n):(f=b[2],i=b[3],l=b[4],m=b[5],n=b[6]);var o;b[7]!==a?(o=(h||(h=c("stylex"))).props(k.mouseLeftButton,a&&k.mouseLeftButtonClick),b[7]=a,b[8]=o):o=b[8];b[9]!==o?(a=j.jsx("div",babelHelpers["extends"]({},o)),b[9]=o,b[10]=a):a=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",{className:"x14hiurz x1hagigm x10l6tqk x1gu1b8v xci0xqf"}),b[11]=o):o=b[11];b[12]!==a?(n=j.jsxs("div",babelHelpers["extends"]({},n,{children:[a,o]})),b[12]=a,b[13]=n):n=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",{className:"x14hiurz x168nmei x13lgxp2 xrc8dwe xxxhv2y xi0exxh x10l6tqk x1xp8n7a"}),b[14]=o):o=b[14];b[15]!==n?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsxs("div",babelHelpers["extends"]({},l,{children:[m,n,o]}))}))})),b[15]=n,b[16]=a):a=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14ctfv x1pg5gke x117nqv4 xr9ek0c xfs2ol5 xjpr12u x12mruv9 x2b8uid xesdh2l xuxw1ft"},b[17]=f):f=b[17];b[18]!==e?(i=j.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[18]=e,b[19]=i):i=b[19];b[20]!==g||b[21]!==a||b[22]!==i?(l=j.jsxs("div",babelHelpers["extends"]({},g,{children:[a,i]})),b[20]=g,b[21]=a,b[22]=i,b[23]=l):l=b[23];return l}g["default"]=a}),98);
__d("Matrices",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=Math.tan(a/2)*c;var e=-a,f=a*b;b=e*b;return[2*c/(f-b),0,0,0,0,2*c/(a-e),0,0,(f+b)/(f-b),(a+e)/(a-e),(c+d)/(c-d),-1,0,0,c*d*2/(c-d),0]}function g(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function b(a,b,c){return[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1]}function c(a){var b=a[0],c=a[1],d=a[2];a=a[3];var e=2/Math.sqrt(b*b+c*c+d*d+a*a);return[1-e*(c*c+d*d),e*(b*c+d*a),e*(b*d-c*a),0,e*(b*c-d*a),1-e*(b*b+d*d),e*(c*d+b*a),0,e*(b*d+c*a),e*(c*d-b*a),1-e*(b*b+c*c),0,0,0,0,1]}function d(a){return h(a[0],a[1],a[2])}function h(a,b,c){return[1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1]}function e(a){var b=a[0]*a[5]-a[1]*a[4],c=a[0]*a[6]-a[2]*a[4],d=a[0]*a[7]-a[3]*a[4],e=a[1]*a[6]-a[2]*a[5],f=a[1]*a[7]-a[3]*a[5],g=a[2]*a[7]-a[3]*a[6],h=a[8]*a[13]-a[9]*a[12],i=a[8]*a[14]-a[10]*a[12],j=a[8]*a[15]-a[11]*a[12],k=a[9]*a[14]-a[10]*a[13],l=a[9]*a[15]-a[11]*a[13],m=a[10]*a[15]-a[11]*a[14],n=b*m-c*l+d*k+e*j-f*i+g*h,o=(a[5]*m-a[6]*l+a[7]*k)/n,p=(a[2]*l-a[1]*m-a[3]*k)/n,q=(a[13]*g-a[14]*f+a[15]*e)/n,r=(a[10]*f-a[9]*g-a[11]*e)/n,s=(a[6]*j-a[4]*m-a[7]*i)/n;m=(a[0]*m-a[2]*j+a[3]*i)/n;var t=(a[14]*d-a[12]*g-a[15]*c)/n;g=(a[8]*g-a[10]*d+a[11]*c)/n;var u=(a[4]*l-a[5]*j+a[7]*h)/n;j=(a[1]*j-a[0]*l-a[3]*h)/n;l=(a[12]*f-a[13]*d+a[15]*b)/n;d=(a[9]*d-a[8]*f-a[11]*b)/n;f=(a[5]*i-a[4]*k-a[6]*h)/n;k=(a[0]*k-a[1]*i+a[2]*h)/n;i=(a[13]*c-a[12]*e-a[14]*b)/n;h=(a[8]*e-a[9]*c+a[10]*b)/n;return[o,p,q,r,s,m,t,g,u,j,l,d,f,k,i,h]}function i(a,b){var c=g();c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];c[4]=a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12];c[5]=a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13];c[6]=a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14];c[7]=a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15];c[8]=a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12];c[9]=a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13];c[10]=a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14];c[11]=a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15];c[12]=a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12];c[13]=a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13];c[14]=a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14];c[15]=a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15];return c}function j(a,b){var c=[0,0,0,0];c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];return c}function k(a){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]]}a={createIdentityMat4:g,createPerspectiveProjectionMatrix:a,createRotationMatrixFromQuaternion:c,createScalingMatrix:b,createTranslationMatrix:h,createTranslationMatrixFromVec:d,invertMat4:e,multiplyMat4:i,multiplyVec4:j,transposeMatrix:k};f["default"]=a}),66);
__d("CometWebGLCubemapTexture",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=a.createTexture(),this.initializeTexture()}var b=a.prototype;b.initializeTexture=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);var b=new Uint8Array([0,0,0,0]);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};b.setFace=function(a,b){var d=this.$1,e=0;switch(a){case 0:e=d.TEXTURE_CUBE_MAP_POSITIVE_X;break;case 1:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Z;break;case 2:e=d.TEXTURE_CUBE_MAP_NEGATIVE_X;break;case 3:e=d.TEXTURE_CUBE_MAP_POSITIVE_Z;break;case 4:e=d.TEXTURE_CUBE_MAP_POSITIVE_Y;break;case 5:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Y;break;default:c("recoverableViolation")("Cubemap face out of bounds","webgl");return}e!==0&&(d.bindTexture(d.TEXTURE_CUBE_MAP,this.$2),d.texImage2D(e,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,b),d.bindTexture(d.TEXTURE_CUBE_MAP,null))};b.generateMipmap=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.generateMipmap(a.TEXTURE_CUBE_MAP);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};b.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_CUBE_MAP,this.$2)};b.release=function(){this.$1.deleteTexture(this.$2)};return a}();g["default"]=a}),98);
__d("CometWebGLIndexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.$1);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToElements=function(){var a=this.$2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$1)};return a}();f["default"]=a}),66);
__d("CometWebGLVertexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ARRAY_BUFFER,this.$1);b.bufferData(b.ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToAttribute=function(a,b,c,d,e,f){var g=this.$2;g.bindBuffer(g.ARRAY_BUFFER,this.$1);g.vertexAttribPointer(a,b,c,d,e,f);g.enableVertexAttribArray(a)};return a}();f["default"]=a}),66);
__d("getWebGLAttributeSizeAndType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b?WebGLRenderingContext.UNSIGNED_BYTE:WebGLRenderingContext.FLOAT;switch(a.type){case WebGLRenderingContext.FLOAT:return{size:1,type:b};case WebGLRenderingContext.FLOAT_VEC2:return{size:2,type:b};case WebGLRenderingContext.FLOAT_VEC3:return{size:3,type:b};case WebGLRenderingContext.FLOAT_VEC4:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT2:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT3:return{size:9,type:b};case WebGLRenderingContext.FLOAT_MAT4:return{size:16,type:b}}return{size:1,type:b}}f["default"]=a}),66);
__d("CometWebGLGeometry",["CometWebGLIndexBuffer","CometWebGLVertexBuffer","getWebGLAttributeSizeAndType","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case WebGLRenderingContext.BYTE:case WebGLRenderingContext.UNSIGNED_BYTE:return 1;case WebGLRenderingContext.SHORT:case WebGLRenderingContext.UNSIGNED_SHORT:return 2;case WebGLRenderingContext.FLOAT:return 4}c("recoverableViolation")("Unrecognized vertex type: "+a,"webgl");return 1}a=function(){function a(a,b){b===void 0&&(b={interleaved:!0}),this.$1=[],this.$2=new(c("CometWebGLVertexBuffer"))(a),this.$3=null,this.$4=0,this.$6=null,this.$7=null,this.$8=0,this.$9=b.interleaved!==!1,this.$5=a,this.$10=0}var b=a.prototype;b.addAttribute=function(a,b){b===void 0&&(b={normalize:!1});if(!this.$9&&b.offset==null)throw c("unrecoverableViolation")("Vertex Buffer is not interleaved but attribute was added without an offset","immersive_media");var d=!!b.normalize,e=c("getWebGLAttributeSizeAndType")(a,d),f=e.size;e=e.type;var g=h(e);this.$1.push({loc:a.location,normalize:d,offset:b.offset!=null?b.offset:this.$10,size:f,stride:b.stride!=null?b.stride:g*f,type:e});this.$10+=g*f};b.bufferData=function(a){if(a instanceof ArrayBuffer){this.$2.bufferData(a);this.$4=a.byteLength;return}if(this.$3&&a.length<=this.$3.length){for(var b=0;b<a.length;b++)this.$3[b]=a[b];for(b=a.length;b<this.$3.length;b++)this.$3[b]=0}else this.$3=new Float32Array(a);this.$4=a.length*4;this.$2.bufferData(this.$3.buffer)};b.bufferIndex=function(a){if(this.$7&&a.length<this.$7.length){for(var b=0;b<a.length;b++)this.$7[b]=a[b];for(b=a.length;b<this.$7.length;b++)this.$7[b]=0}else this.$7=new Uint16Array(a);this.$8=a.length;this.$6||(this.$6=new(c("CometWebGLIndexBuffer"))(this.$5));this.$6.bufferData(this.$7)};b.bindToAttributes=function(){for(var a=0;a<this.$1.length;a++){var b=this.$1[a];this.$2.bindToAttribute(b.loc,b.size,b.type,!!b.normalize,this.$9?this.$10:b.stride,b.offset)}this.$6&&this.$6.bindToElements()};b.draw=function(){if(this.$9&&this.$4%this.$10!==0){c("recoverableViolation")("Geometry buffer length is not perfectly divisible by stride","webgl");return}var a=this.$5;if(this.$7)a.drawElements(a.TRIANGLES,this.$8,a.UNSIGNED_SHORT,0);else{var b=this.$4/this.$10;a.drawArrays(a.TRIANGLES,0,b)}};return a}();g["default"]=a}),98);
__d("CometWebGLTexture",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c;b===void 0&&(b=Object.freeze({}));this.$1=a;this.$5=a.createTexture();this.$2=(c=b.generateMipmaps)!=null?c:!1;a.bindTexture(a.TEXTURE_2D,this.$5);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);this.$6=(c=b.width)!=null?c:0;this.$3=(c=b.height)!=null?c:0;if("source"in b){c=b.source;c==null?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.$6,this.$3,0,a.RGBA,a.UNSIGNED_BYTE,c):this.setSource(c)}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]))}var b=a.prototype;b.getGLTexture=function(){return this.$5};b.setSource=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);this.$4=a;var d=this.$1;d.bindTexture(d.TEXTURE_2D,this.$5);a instanceof Image?(d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,b?1:0),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c?1:0),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,a),this.$6=a.naturalWidth,this.$3=a.naturalHeight):a instanceof HTMLCanvasElement&&(d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,a),this.$6=a.width,this.$3=a.height);this.$2&&(d.generateMipmap(d.TEXTURE_2D),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR));d.bindTexture(d.TEXTURE_2D,null)};b.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.$5)};return a}();f["default"]=a}),66);
__d("CometWebGLMesh",["CometWebGLCubemapTexture","CometWebGLGeometry","CometWebGLTexture","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d===void 0&&(d={interleaved:!0}),this.$1=a,this.geometry=new(c("CometWebGLGeometry"))(a,{interleaved:d.interleaved!==!1}),this.program=b,this.renderOrder=1,this.uniforms={},this.visible=!0}var b=a.prototype;b.addAttribute=function(a,b){a=this.program.getAttribute(a);if(a==null)return this;this.geometry.addAttribute(a,b);return this};b.setUniform=function(a,b){this.uniforms[a]=b};b.getUniform=function(a){return this.uniforms[a]};b.unsetUniform=function(a){delete this.uniforms[a]};b.bufferData=function(a){this.geometry.bufferData(a)};b.bufferIndex=function(a){this.geometry.bufferIndex(a)};b.setVisible=function(a){this.visible=a};b.draw=function(){if(!this.visible)return;var a=0,b=this.program,d=b.getUniforms();for(d in d){var e=null;d in this.uniforms?e=this.uniforms[d]:e=b.getDefaultValueForUniform(d);var f=b.getUniform(d);if(f==null)throw c("unrecoverableViolation")("Specified uniform does not exist in program: "+d,"immersive_media");typeof e==="number"?f.set(e):Array.isArray(e)||e instanceof Float32Array?f.set(e):(e instanceof c("CometWebGLTexture")||e instanceof c("CometWebGLCubemapTexture"))&&(e.bindToSlot(a),f.set(a),a++)}this.geometry.bindToAttributes();this.geometry.draw()};return a}();g["default"]=a}),98);
__d("defaultValueForWebGLUniform",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case WebGLRenderingContext.FLOAT:return 0;case WebGLRenderingContext.FLOAT_VEC2:return[0,0];case WebGLRenderingContext.FLOAT_VEC3:return[0,0,0];case WebGLRenderingContext.FLOAT_VEC4:return[0,0,0,0];case WebGLRenderingContext.INT:return 0;case WebGLRenderingContext.INT_VEC2:return[0,0];case WebGLRenderingContext.INT_VEC3:return[0,0,0];case WebGLRenderingContext.INT_VEC4:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT2:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT3:return[0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.FLOAT_MAT4:return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.SAMPLER_2D:return null;default:return null}}f["default"]=a}),66);
__d("extractAttributesFromWebGLProgram",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d={},e=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES);for(var f=0;f<e;f++){var g=a.getActiveAttrib(b,f);if(!g){c("recoverableViolation")("Attempted to retrieve an attribute that did not exist","webgl");continue}var h=a.getAttribLocation(b,g.name);d[g.name]={location:h,size:g.size,type:g.type}}return d}g["default"]=a}),98);
__d("createWebGLUniformSetter",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){switch(d){case a.FLOAT:return a.uniform1f.bind(a,b);case a.FLOAT_VEC2:return a.uniform2fv.bind(a,b);case a.FLOAT_VEC3:return a.uniform3fv.bind(a,b);case a.FLOAT_VEC4:return a.uniform4fv.bind(a,b);case a.INT:return a.uniform1i.bind(a,b);case a.INT_VEC2:return a.uniform2iv.bind(a,b);case a.INT_VEC3:return a.uniform3iv.bind(a,b);case a.INT_VEC4:return a.uniform4iv.bind(a,b);case a.FLOAT_MAT2:return a.uniformMatrix2fv.bind(a,b,!1);case a.FLOAT_MAT3:return a.uniformMatrix3fv.bind(a,b,!1);case a.FLOAT_MAT4:return a.uniformMatrix4fv.bind(a,b,!1);case a.SAMPLER_2D:return a.uniform1i.bind(a,b);case a.SAMPLER_CUBE:return a.uniform1i.bind(a,b);default:return function(){c("recoverableViolation")("This uniform type is not supported: "+d,"webgl")}}}g["default"]=a}),98);
__d("extractUniformsFromWebGLProgram",["createWebGLUniformSetter","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d={},e=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(var f=0;f<e;f++){var g=a.getActiveUniform(b,f);if(!g){c("recoverableViolation")("Attempted to retrieve a uniform that did not exist","webgl");continue}var h=a.getUniformLocation(b,g.name);d[g.name]={location:h,set:c("createWebGLUniformSetter")(a,h,g.type),size:g.size,type:g.type}}return d}g["default"]=a}),98);
__d("CometWebGLProgram",["defaultValueForWebGLUniform","extractAttributesFromWebGLProgram","extractUniformsFromWebGLProgram","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1={},this.$3=null,this.$4=[],this.$5={},this.$6={},this.$2=a}var b=a.prototype;b.addShader=function(a,b,d){if(this.$3){c("recoverableViolation")("Cannot add a shader, the program has already been compiled","webgl");return this}var e=a;if(d){d=d.map(function(a){return"#define "+a+"\n"}).join("");if(a.startsWith("#version")){var f=a.indexOf("\n")+1;e=a.substr(0,f)+d+a.substr(f)}else e=d+a}this.$4.push({code:e,type:b});return this};b.compile=function(){if(this.$3){c("recoverableViolation")("Cannot compile, the program has already been compiled","webgl");return this}var a=this.$2;if(a.isContextLost()){c("recoverableViolation")("Failed to create shader program, WebGL context lost","webgl");return this}var b=this.$4.map(function(b){var d=b.code;b=b.type;b=a.createShader(b);a.shaderSource(b,d);a.compileShader(b);if(!a.getShaderParameter(b,a.COMPILE_STATUS)){d=a.getShaderInfoLog(b)||"";a.deleteShader(b);c("recoverableViolation")("Failed to compile shader: "+d,"webgl")}return b}),d=a.createProgram();for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;a.attachShader(d,g)}a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS)){g=a.getProgramInfoLog(d)||"";a.deleteProgram(d);c("recoverableViolation")("Failed to link program: "+g,"webgl");return this}this.$3=d;this.$6=c("extractUniformsFromWebGLProgram")(a,d);this.$1=c("extractAttributesFromWebGLProgram")(a,d);return this};b.use=function(){if(!this.$3){c("recoverableViolation")("Cannot use Program before it has been compiled","webgl");return}this.$2.useProgram(this.$3)};b.getUniform=function(a){var b=this.$6[a];if(!b){c("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}return b};b.getUniforms=function(){return this.$6};b.getAttribute=function(a){var b=this.$1[a];if(!b){c("recoverableViolation")("Program does not have an attribute called "+a,"webgl");return null}return b};b.setUniformDefaults=function(a){for(var b in a)this.$5[b]=a[b];return this};b.getDefaultValueForUniform=function(a){if(!(a in this.$6)){c("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}if(a in this.$5){var b=this.$5[a];return Array.isArray(b)?b.slice():b}return c("defaultValueForWebGLUniform")(this.$6[a].type)};return a}();g["default"]=a}),98);
__d("createWebGLTexturedMeshProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f,g){"use strict";var h="\nattribute vec3 a_position;\nattribute vec2 a_texcoord_0;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 transformMatrix;\nvarying vec2 v_texcoord_0;\n\nvoid main() {\n  v_texcoord_0 = a_texcoord_0;\n  gl_Position = projectionMatrix * viewMatrix * transformMatrix * vec4(a_position, 1.0);\n}\n",i="\nprecision mediump float;\n\nuniform sampler2D u_texture_0;\nvarying vec2 v_texcoord_0;\n\nvoid main() {\n  gl_FragColor = texture2D(u_texture_0, v_texcoord_0);\n}\n";function a(a){var b=new(c("CometWebGLProgram"))(a);return b.addShader(h,a.VERTEX_SHADER).addShader(i,a.FRAGMENT_SHADER).compile().setUniformDefaults({projectionMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],transformMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],viewMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]})}g["default"]=a}),98);
__d("CometWebGLRoundedRectangleMesh",["CometWebGLMesh","CometWebGLTexture","createWebGLTexturedMeshProgram"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){f===void 0&&(f=5);this.$1=a;this.$2=new(c("CometWebGLMesh"))(a,c("createWebGLTexturedMeshProgram")(a),{interleaved:!1});this.$2.addAttribute("a_position",{offset:0});this.$3=new(c("CometWebGLTexture"))(a);this.$2.setUniform("u_texture_0",this.$3);a=b/2;var g=d/2,h=0,i=[-a+e,g,h,a-e,g,h,-a,g-e,h,-a+e,g-e,h,a-e,g-e,h,a,g-e,h,-a,-g+e,h,-a+e,-g+e,h,a-e,-g+e,h,a,-g+e,h,-a+e,-g,h,a-e,-g,h],j=[0,1,4,4,3,0,2,3,7,7,6,2,3,4,8,8,7,3,4,5,9,9,8,4,7,8,11,11,10,7],k=[],l=[],m=Math.PI/2/f;for(var n=1;n<f;n++)k.push(e-e*Math.cos(m*n)),l.push(e-e*Math.sin(m*n));m=5;for(n=0;n<f-1;n++){var o=i.length/3;i.push(a-k[n],g-l[n],h);j.push(o,m,4);m=o}j.push(1,m,4);m=2;for(o=0;o<f-1;o++){n=i.length/3;i.push(-a+k[o],g-l[o],h);j.push(n,3,m);m=n}j.push(0,3,m);m=9;for(n=0;n<f-1;n++){o=i.length/3;i.push(a-k[n],-g+l[n],h);j.push(m,o,8);m=o}j.push(m,11,8);m=6;for(o=0;o<f-1;o++){n=i.length/3;i.push(-a+k[o],-g+l[o],h);j.push(7,n,m);m=n}j.push(7,10,m);this.$2.addAttribute("a_texcoord_0",{offset:i.length*4});n=e/b;o=e/d;i.push(n,0,1-n,0,0,o,n,o,1-n,o,1,o,0,1-o,n,1-o,1-n,1-o,1,1-o,n,1,1-n,1);for(h=0;h<f-1;h++)i.push(1-k[h]/b,l[h]/d);for(g=0;g<f-1;g++)i.push(k[g]/b,l[g]/d);for(a=0;a<f-1;a++)i.push(1-k[a]/b,1-l[a]/d);for(m=0;m<f-1;m++)i.push(k[m]/b,1-l[m]/d);this.$2.bufferData(i);this.$2.bufferIndex(j)}var b=a.prototype;b.setTransform=function(a){this.$2.setUniform("transformMatrix",a)};b.setTextureSource=function(a){this.$3.setSource(a)};b.draw=function(a,b){this.$2.setUniform("viewMatrix",a),this.$2.setUniform("projectionMatrix",b),this.$2.program.use(),this.$2.draw()};return a}();g["default"]=a}),98);
__d("ViewInVRButton.react",["fbt","CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{backgroundColor:"x18l40ae",color:"x14ctfv",end:"x27edjs",start:"xal3pk5",left:null,right:null,paddingTop:"x889kno",paddingBottom:"x1a8lsjc",position:"x10l6tqk",top:"xyd03xr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3);a=a.onPress;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2 x6prxxf x2b8uid"},{children:h._(/*BTDS*/"__JHASH__8yz-4FTGg9m__JHASH__")})),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("CometPressable.react"),{expanding:!0,onPress:a,xstyle:k.button,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("XRImmersiveMediaStoryCard",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this,c=document.createElement("canvas");c.width=a.width;c.height=a.height;this.$1=c.getContext("2d");this.$2=a.photoURL;this.$4=a.title;this.$5=a.subtitle;this.$6=a.description;this.$3=new Image();this.$3.crossOrigin="Anonymous";this.$3.onload=function(){b.$7(),a.reload()};this.$3.src=this.$2;this.$7()}var b=a.prototype;b.$7=function(){var a=this.$1.canvas.width,b=this.$1.canvas.height,c=48,d=6;this.$1.fillStyle="#ffffff";this.$1.fillRect(0,0,a,b);this.$1.fillStyle="#000000";this.$1.font="bold 16px sans-serif";this.$1.fillText(this.$4,d*2+c,20);this.$1.font="normal 14px sans-serif";this.$1.fillText(this.$5,d*2+c,40);this.$1.font="normal 16px sans-serif";b="";a=a-d*2;for(var e=this.$6,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;b+=h;if(this.$1.measureText(b).width>a){b=b.slice(0,-3)+"...";break}}this.$1.fillText(b,d,74);this.$1.beginPath();this.$1.arc(d+c/2,d+c/2,c/2,0,Math.PI*2);this.$3.complete&&(this.$1.clip(),this.$1.drawImage(this.$3,d,d))};b.getCanvas=function(){return this.$1.canvas};return a}();f["default"]=a}),66);
__d("createWebGLColoredMeshProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f,g){"use strict";var h="\nattribute vec3 a_position;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 transformMatrix;\n\nvoid main() {\n  gl_Position = projectionMatrix * viewMatrix * transformMatrix * vec4(a_position, 1.0);\n}\n",i="\nprecision mediump float;\n\nuniform vec4 u_color;\n\nvoid main() {\n  gl_FragColor = u_color;\n}\n";function a(a){var b=new(c("CometWebGLProgram"))(a);return b.addShader(h,a.VERTEX_SHADER).addShader(i,a.FRAGMENT_SHADER).compile().setUniformDefaults({projectionMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],transformMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],viewMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]})}g["default"]=a}),98);
__d("XRImmersiveMediaWindow",["CometWebGLMesh","createWebGLColoredMeshProgram"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){this.$1=a;this.$2=new(c("CometWebGLMesh"))(a,c("createWebGLColoredMeshProgram")(a),{interleaved:!1});this.$2.addAttribute("a_position",{offset:0});a=b/2;b=d/2;d=[a,-b,-e,a,b,-e,-a,b,-e,-a,-b,-e];this.$2.bufferData(d);this.$2.bufferIndex([0,1,2,2,3,0]);this.$2.setUniform("u_color",[0,0,0,1])}var b=a.prototype;b.draw=function(a,b){var c=this.$1;c.depthMask(!1);c.stencilMask(255);c.clear(c.STENCIL_BUFFER_BIT);c.stencilFunc(c.ALWAYS,1,255);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);this.$2.setUniform("viewMatrix",a);this.$2.setUniform("projectionMatrix",b);this.$2.program.use();this.$2.draw();c.depthMask(!0);c.stencilFunc(c.EQUAL,1,255);c.stencilMask(0)};return a}();g["default"]=a}),98);
__d("beginXRSession",["promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,d=a.draw,e=a.gl,f=a.onEnter,g=a.onExit;b=(b=a.sessionType)!=null?b:"inline";var h=(a=a.refSpaceType)!=null?a:"local",i=null,j=null;c("promiseDone")(navigator.xr.requestSession(b).then(function(a){i=a;f!=null&&f();function b(){i=null,g!=null&&g()}a.addEventListener("end",b);function c(){i!=null&&i.end(),b()}a.addEventListener("select",c);a.addEventListener("squeeze",c);a.updateRenderState({baseLayer:new window.XRWebGLLayer(a,e,{stencil:!0})});return a.requestReferenceSpace(h)}).then(function(a){i!=null&&(j=a,i.requestAnimationFrame(k))}));function k(a,b){if(i==null||j==null)return;a=b.session;a.requestAnimationFrame(k);b=b.getViewerPose(j);if(b==null)return;a=a.renderState.baseLayer;e.bindFramebuffer(e.FRAMEBUFFER,a.framebuffer);d(b,a)}return function(){i!=null&&i.end()}}g["default"]=a}),98);
__d("XR3DPhotoViewer.react",["CometWebGLRoundedRectangleMesh","Matrices","ViewInVRButton.react","XRImmersiveMediaStoryCard","XRImmersiveMediaWindow","beginXRSession","formatDate","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=1.3,k=1,l=.03,m=.03,n=[0,0,-1.25],o=.2,p=512,q=1.5,r=.666489;function s(a,b,d){var e,f=b[0]<b[1],g=f?k:j,h=f?j:k,i=g+l*2,s=h+l*2+o,t=(f?s/i:1)*p,u=(f?1:i/s)*p,v=new(c("CometWebGLRoundedRectangleMesh"))(a,i,s,m);i=(i=d==null?void 0:d.time)!=null?i:null;i=i==null?"":c("formatDate")(i,"F j, Y");var w=new(c("XRImmersiveMediaStoryCard"))({description:(e=d==null?void 0:d.description)!=null?e:"",height:t,photoURL:(e=d==null?void 0:d.actorPhoto)!=null?e:"",reload:function(){v.setTextureSource(w.getCanvas())},subtitle:i,title:(t=d==null?void 0:d.actorName)!=null?t:"",width:u});e=(s-h)/2-l;v.setTransform([1,0,0,0,0,1,0,0,0,0,1,0,n[0],n[1]+e,n[2],1]);v.setTextureSource(w.getCanvas());i=new(c("XRImmersiveMediaWindow"))(a,g,h,-n[2]);d=f?b[1]:b[0];t=q;if(d!=null&&d!==r){u=-n[2]/2*Math.tan(r/2);s=-n[2]/2*Math.tan(d/2);t=q*u/s}e=c("Matrices").createScalingMatrix(t,t,1);return[i,v,e]}function a(a){var b=d("react-compiler-runtime").c(7),e=a.fov,f=a.gl,g=a.meshes,h=a.storyContext;if(f==null||e==null||g==null)return null;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(){var a=s(f,e,h),b=a[0],d=a[1];a=a[2];for(var i=g,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;l.setUniform("transformMatrix",a)}l=function(a,c){f.enable(f.STENCIL_TEST);f.enable(f.DEPTH_TEST);f.enable(f.BLEND);f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA);f.clearColor(.33,.33,.33,1);f.clear(f.COLOR_BUFFER_BIT);for(var a=a.views,e=Array.isArray(a),h=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;var j=c.getViewport(i);f.viewport(j.x,j.y,j.width,j.height);j=i.transform.inverse.matrix;i=i.projectionMatrix;b.draw(j,i);f.clear(f.DEPTH_BUFFER_BIT);for(var k=g,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;n.setUniform("projectionMatrix",i);n.setUniform("viewMatrix",j);n.program.use();n.draw()}f.stencilFunc(f.NOTEQUAL,1,255);d.draw(j,i)}f.disable(f.STENCIL_TEST)};c("beginXRSession")({draw:l,gl:f,sessionType:"immersive-vr"})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];a=a;var j;b[5]!==a?(j=i.jsx(c("ViewInVRButton.react"),{onPress:a}),b[5]=a,b[6]=j):j=b[6];return j}g["default"]=a}),98);
__d("XRViewerGating.react",["Promise","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState,m="xr"in((f=window.navigator)!=null?f:{})?null:!1,n=null;function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=l(m),f=e[0],g=e[1],h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){if(m===!1)return;var a;a=!0;n===null&&(n=window.navigator.xr.isSessionSupported("immersive-vr").then(o));c("promiseDone")(n.then(function(b){a&&g(b)}));return function(){a=!1}},h=[g],b[0]=e,b[1]=h):(e=b[0],h=b[1]);k(e,h);if(f===!0)return a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",{}),b[2]=e):e=b[2];return e}function o(a){m=a;return(h||(h=b("Promise"))).resolve(a)}g["default"]=a}),98);
__d("XR3DPhotoViewerEntry.react",["XR3DPhotoViewer.react","XRViewerGating.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("XRViewerGating.react"),{children:i.jsx(c("XR3DPhotoViewer.react"),babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("createWebGL3DPhotoProgram",["CometWebGLProgram","Matrices"],(function(a,b,c,d,e,f,g){"use strict";var h="\nattribute vec3 a_position;\nattribute vec2 a_texcoord_0;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 transformMatrix;\nvarying vec2 v_texcoord_0;\n\nvoid main() {\n  v_texcoord_0 = a_texcoord_0;\n  gl_Position = projectionMatrix * viewMatrix * transformMatrix * vec4(a_position, 1.0);\n}\n",i='\nprecision mediump float;\n\nvarying vec2 v_texcoord_0;\nuniform sampler2D u_texture_0;\n\nvoid main() {\n  // LOD refers to "level of detail" and is used for mipmap filtering.\n  // A positive LOD bias samples closer to the less detailed mipmap level,\n  // and a negative LOD bias samples closer to the more detailed mipmap level.\n  const float kLodBias = 0.0;\n  gl_FragColor = texture2D(u_texture_0, v_texcoord_0, kLodBias);\n}\n';function a(a){var b=new(c("CometWebGLProgram"))(a);return b.addShader(h,a.VERTEX_SHADER).addShader(i,a.FRAGMENT_SHADER).compile().setUniformDefaults({projectionMatrix:c("Matrices").createIdentityMat4(),transformMatrix:c("Matrices").createIdentityMat4(),viewMatrix:c("Matrices").createIdentityMat4()})}g["default"]=a}),98);
__d("createMeshesFromGLTF",["CometWebGLMesh","CometWebGLTexture","Promise","createWebGL3DPhotoProgram"],(function(a,b,c,d,e,f,g){"use strict";var h,i={POSITION:"a_position",TEXCOORD_0:"a_texcoord_0"};function a(a,d){var e=[],f=c("createWebGL3DPhotoProgram")(a),g=[],k=d.getMeshes();for(var k=k,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;n=n.primitives;for(var n=n,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}q=q;var r=q.attributes,s=[],t=Infinity,u=0;r=Object.entries(r);for(var v=0;v<r.length;v++){var w=r[v],x=w[0];w=w[1];if(typeof w==="number"){w=d.getAccessor(w);var y=d.getBufferView(w.bufferView);y.byteOffset<t&&(t=y.byteOffset);y.byteOffset+y.byteLength>u&&(u=y.byteOffset+y.byteLength);w=w.byteOffset!=null?w.byteOffset:0;s.push({byteOffset:y.byteOffset+w,name:x})}}s.sort(j);var z=new(c("CometWebGLMesh"))(a,f,{interleaved:!1});y=d.getBinarySource();for(w=0;w<s.length;w++){x=s[w];if(x.name in i){r=x.byteOffset-t;v={offset:r};z.addAttribute(i[x.name],v)}}z.bufferData(new Float32Array(y.buffer,y.byteOffset+t,(u-t)/4));q.indices!=null&&z.bufferIndex(d.getDataViewForAccessor(q.indices));if(q.material!=null){r=d.getMaterial(q.material);var A=r==null?void 0:(x=r.pbrMetallicRoughness)==null?void 0:(v=x.baseColorTexture)==null?void 0:v.index;A!=null&&(function(){var e=d.getTexture(A),f=d.getImage(e.source),i=new(c("CometWebGLTexture"))(a,{generateMipmaps:!0});g.push(new(h||(h=b("Promise")))(function(a,b){f.onload=function(){i.setSource(f,!1,!0),a()},f.onerror=function(){b()}}));z.setUniform("u_texture_0",i)})()}e.push(z)}}return(h||(h=b("Promise"))).all(g).then(function(){return e})}function j(a,b){return a.byteOffset-b.byteOffset}g["default"]=a}),98);
__d("glVec3CrossProduct",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}f["default"]=a}),66);
__d("glMatrixLookingAtTarget",["glVec3CrossProduct"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=[a[0]-b[0],a[1]-b[1],a[2]-b[2]];var d=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=d;b[1]/=d;b[2]/=d;d=c("glVec3CrossProduct")([0,1,0],b);var e=c("glVec3CrossProduct")(b,d);return[d[0],d[1],d[2],0,e[0],e[1],e[2],0,b[0],b[1],b[2],0,a[0],a[1],a[2],1]}g["default"]=a}),98);
__d("useFrameTiming",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(){var a=d("react-compiler-runtime").c(6),b=j(null),c=j(null),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){var b=c.current;if(b==null)return;b(a)},a[0]=e):e=a[0];var f=e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){var d=b.current;d!=null&&window.cancelAnimationFrame(d);c.current=a;b.current=window.requestAnimationFrame(f)},a[1]=e):e=a[1];e=e;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=b.current;if(a==null)return;window.cancelAnimationFrame(a)},a[2]=g):g=a[2];g=g;var h,k;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return function(){var a=b.current;if(a==null)return;window.cancelAnimationFrame(a)}},k=[],a[3]=h,a[4]=k):(h=a[3],k=a[4]);i(h,k);a[5]===Symbol["for"]("react.memo_cache_sentinel")?(h=[e,g],a[5]=h):h=a[5];return h}g["default"]=a}),98);
__d("GLTFResource",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[],this.$3=null,this.$4=null,this.$5=[],this.$6=[],this.$7=[],this.$8=[]}var b=a.prototype;b.addBinarySource=function(a,b,c){this.$3=new Uint8Array(a,b,c)};b.useJSON=function(a){var b;this.$4=(b=a.extras)!=null?b:Object.freeze({});this.$1=(b=a.accessors)!=null?b:[];this.$2=(b=a.bufferViews)!=null?b:[];this.$5=(b=a.images)!=null?b:[];this.$6=(b=a.materials)!=null?b:[];this.$7=(b=a.meshes)!=null?b:[];this.$8=(b=a.textures)!=null?b:[]};b.getBinarySource=function(){if(this.$3==null)throw c("unrecoverableViolation")("attempted to access binary source before it was set","webgl");return this.$3};b.hasBinarySource=function(){return this.$3!=null};b.getAccessor=function(a){a=this.$1[a];if(a==null)throw c("unrecoverableViolation")("accessor index out of range","webgl");return a};b.getBufferView=function(a){a=this.$2[a];if(a==null)throw c("unrecoverableViolation")("buffer view index out of range","webgl");return a};b.getExtras=function(){return this.$4};b.getMaterial=function(a){a=this.$6[a];if(a==null)throw c("unrecoverableViolation")("material index out of range","webgl");return a};b.getMeshes=function(){return this.$7};b.getTexture=function(a){a=this.$8[a];if(a==null)throw c("unrecoverableViolation")("texture index out of range","webgl");return a};b.getDataViewForAccessor=function(a){a=this.$1[a];if(a==null)throw c("unrecoverableViolation")("accessor index out of range","webgl");var b=this.$2[a.bufferView];if(b==null)throw c("unrecoverableViolation")("buffer view index out of range","webgl");if(b.buffer!==0)throw c("unrecoverableViolation")("external gltf buffers are not currently supported","webgl");var d=this.$3;if(d==null)throw c("unrecoverableViolation")("attempted to get an accessor before loading binary data","webgl");var e=d.byteOffset+b.byteOffset;switch(a.componentType){case 5120:return new Int8Array(d.buffer,e,b.byteLength);case 5121:return new Uint8Array(d.buffer,e,b.byteLength);case 5122:return new Int16Array(d.buffer,e,b.byteLength/2);case 5123:return new Uint16Array(d.buffer,e,b.byteLength/2);case 5124:return new Int32Array(d.buffer,e,b.byteLength/4);case 5125:return new Uint32Array(d.buffer,e,b.byteLength/4);case 5126:return new Float32Array(d.buffer,e,b.byteLength/4);default:throw c("unrecoverableViolation")("unsupported gl component type","webgl")}};b.getImage=function(a){a=this.$5[a];var b=this.getBufferView(a.bufferView),c=this.getBinarySource();c=new Uint8Array(c.buffer,c.byteOffset+b.byteOffset,b.byteLength);b=new Blob([c],{type:a.mimeType});c=URL.createObjectURL(b);a=new Image();a.src=c;return a};return a}();g["default"]=a}),98);
__d("GLTFTypesValidator",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){throw c("unrecoverableViolation")("unrecoverable incorrectly formatted JSON ".concat(a),"webgl")}function i(a){a===void 0&&h("GLTFAccessor undefined"),s(a.bufferView,!0,"GLTFAccessor.bufferView",0),s(a.byteOffset,!1,"GLTFAccessor.byteOffset",0),s(a.componentType,!0,"GLTFAccessor.componentType",5120,5126),s(a.count,!0,"GLTFAccessor.count",1),a.type!==void 0&&(a.type!=="SCALAR"&&a.type!=="VEC2"&&a.type!=="VEC3"&&a.type!=="VEC4"&&h("GLTFAccessor malformed"))}function j(a){k(a,!0,"GLTFAccessor");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;i(d)}}function k(a,b,c){if(a===void 0)if(b)h("Array<".concat(c).concat("> undefined"));else return;else a.length===0&&h("Array<".concat(c).concat("> length=0"))}function a(a,b,c){if(a===void 0)if(b)h(c.concat(" undefined"));else return;typeof a!=="boolean"&&h(c.concat(" not a boolean"))}function l(a){a===void 0&&h("GLTFBuffer undefined"),s(a.byteLength,!0,"GLTFBuffer.byteLength",1)}function m(a){s(a.buffer,!0,"GLTFBufferView.buffer",0),s(a.byteOffset,!0,"GLTFBufferView.byteOffset",0),s(a.byteLength,!0,"GLTFBufferView.byteLength",0)}function n(a){k(a,!1,"GLTFBufferView");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;m(d)}}function o(a){k(a,!1,"GLTFBuffer");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;l(d)}}function p(a){a!==void 0&&(a.FB_PHOTO_3D_DATA!==void 0?(a.FB_PHOTO_3D_DATA.hFov!==void 0&&s(a.FB_PHOTO_3D_DATA.hFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.hFov"),a.FB_PHOTO_3D_DATA.vFov!==void 0&&s(a.FB_PHOTO_3D_DATA.vFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.vFov")):h("GLTFExtras undefined"))}function b(a){a!==void 0?(j(a.accessors),o(a.buffers),n(a.bufferViews),p(a.extras),r(a.images),u(a.materials),w(a.meshes),B(a.textures)):h("GLTFBody undefined")}function q(a){a===void 0&&h("GLTFImage undefined"),z(a.mimeType,!0,"GLTFImage.mimeType"),s(a.bufferView,!0,"GLTFImage.bufferView",0)}function r(a){k(a,!1,"GLTFImage");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;q(d)}}function s(a,b,c,d,e){d===void 0&&(d=Number.MIN_SAFE_INTEGER);e===void 0&&(e=Number.MAX_SAFE_INTEGER);if(a===void 0)if(b)h(c.concat(" undefined"));else return;typeof a==="number"?(a<d||a>e)&&h(c.concat(" out of range")):h(c.concat(" not an integer"))}function t(a){a===void 0&&h("GLTFMaterial undefined"),a.pbrMetallicRoughness!==void 0&&(a.pbrMetallicRoughness.baseColorTexture!==void 0&&s(a.pbrMetallicRoughness.baseColorTexture.index,!1,"GLTFMaterial.pbrMetallicRoughness.baseColorTexture.index",0))}function u(a){k(a,!1,"GLTFMaterial");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;t(d)}}function v(a){a===void 0&&h("GLTFMesh undefined"),y(a.primitives)}function w(a){k(a,!0,"GLTFMesh");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;v(d)}}function x(a){a===void 0&&h("GLTFPrimitive undefined");for(var b in a.attributes)Object.prototype.hasOwnProperty.call(a.attributes,b)&&(b==="POSITION"||b==="TEXCOORD_0"||b==="TEXCOORD_1"?s(a.attributes[b],!0,"GLTFPrimitives.attributes[".concat(b).concat("]"),0):h("GLTFPrimitive malformed"));s(a.indices,!1,"GLTFPrimitives.indicies",0);s(a.material,!1,"GLTFPrimitives.material",0)}function y(a){a===void 0&&h("GLTFPrimatives undefined");k(a,!0,"GLTFPrimitive");for(var b=0;b<a.length;b++){var c=a[b];x(c)}}function z(a,b,c){if(a===void 0)if(b)h(c.concat(" undefined"));else return;typeof a!=="string"&&h(c.concat(" not a string"))}function A(a){a===void 0&&h("GLTFTexture undefined"),s(a.sampler,!0,"GLTFTexture.sampler",0),s(a.source,!0,"GLTFTexture.source",0)}function B(a){k(a,!0,"GLTFTexture");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;A(d)}}g.throwBadFormat=h;g.validateAccessor=i;g.validateAccessors=j;g.validateArray=k;g.validateBoolean=a;g.validateBuffer=l;g.validateBufferView=m;g.validateBufferViews=n;g.validateBuffers=o;g.validateExtras=p;g.validateGLTFBodyJSON=b;g.validateImage=q;g.validateImages=r;g.validateInteger=s;g.validateMaterial=t;g.validateMaterials=u;g.validateMesh=v;g.validateMeshes=w;g.validatePrimitive=x;g.validatePrimitives=y;g.validateString=z;g.validateTexture=A;g.validateTextures=B}),98);
__d("extractUTF8StringFromBuffer",["EndianAwareDataReader","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a>127}function i(a){return a>=192&&a<=223}function j(a){return a>=224&&a<=239}function k(a){return a>=240&&a<=247}function a(a,b,d){if(b+d>a.byteLength)throw c("unrecoverableViolation")("offset and length exceed ArrayBuffer bounds","webgl");if("TextDecoder"in window){var e=new TextDecoder("utf-8"),f=new Uint8Array(a,b,d);return e.decode(f)}e=new(c("EndianAwareDataReader"))(a.slice(b,b+d),!1);f=[];while(e.canReadU8()){a=e.readU8();if(h(a))if(i(a)){if(!e.canReadU8())throw c("unrecoverableViolation")("incomplete two-byte utf8 sequence","webgl");b=e.readU8();a=(a&31)<<6|b&63}else if(j(a)){d=e.canReadU8()?e.readU8():null;b=e.canReadU8()?e.readU8():null;if(d==null||b==null)throw c("unrecoverableViolation")("incomplete three-byte utf8 sequence","webgl");a=(a&15)<<12|(d&63)<<6|b&63}else if(k(a)){d=e.canReadU8()?e.readU8():null;b=e.canReadU8()?e.readU8():null;var g=e.canReadU8()?e.readU8():null;if(d==null||b==null||g==null)throw c("unrecoverableViolation")("incomplete four-byte utf8 sequence","webgl");a=(a&7)<<18|(d&63)<<12|(b&63)<<6|g&63}else throw c("unrecoverableViolation")("unknown utf8 start sequence","webgl");if(a<=65535)f.push(String.fromCharCode(a));else if(a<=1114111)a-=65536,f.push(String.fromCharCode(a>>10|55296)),f.push(String.fromCharCode(a&1023|56320));else throw c("unrecoverableViolation")("codepoint is beyond ","webgl")}return f.join("")}g["default"]=a}),98);
__d("parseGLBResource",["GLTFResource","GLTFTypesValidator","extractUTF8StringFromBuffer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=1179937895;function a(a){var b=new DataView(a);if(b.getUint32(0,!0)!==h)throw c("unrecoverableViolation")("invalid GLB magic number","webgl");if(b.getUint32(4,!0)!==2)throw c("unrecoverableViolation")("unsupported GLB version number","webgl");var e=b.getUint32(8,!0);if(e>a.byteLength)throw c("unrecoverableViolation")("glb buffer is shorter than declared byte length","webgl");var f=new(c("GLTFResource"))(),g=12;while(g<e){var i=b.getUint32(g,!0),j=b.getUint32(g+4,!0);switch(j){case 1313821514:j=c("extractUTF8StringFromBuffer")(a,g+8,i);var k="";try{k=JSON.parse(j)}catch(a){throw c("unrecoverableViolation")("failed to parse glTF JSON","webgl",a)}d("GLTFTypesValidator").validateGLTFBodyJSON(k);f.useJSON(k);break;case 5130562:f.addBinarySource(a,g+8,i);break;default:throw c("unrecoverableViolation")("unexpected GLB section label","webgl")}g+=i+8}return f}g["default"]=a}),98);
__d("useGLBLoadAndParse",["parseGLBResource","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(3),e=j(null),f=e[0],g=e[1],h;b[0]!==a?(e=function(){var b;b=!1;c("promiseDone")(window.fetch(a).then(k).then(function(a){if(b)return;a=c("parseGLBResource")(a);g(a)})["catch"](function(){g(null)}));return function(){b=!0}},h=[a],b[0]=a,b[1]=e,b[2]=h):(e=b[1],h=b[2]);i(e,h);return f}function k(a){return a.arrayBuffer()}g["default"]=a}),98);
__d("useGLContext",["WebPixelRatio","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a,b,e){var f=k(null),g=f[0],h=f[1],l=(f=e==null?void 0:e.expand)!=null?f:!1,m=(f=e==null?void 0:e.stencil)!=null?f:!1;j(function(){var a=document.createElement("canvas"),b=a.getContext("webgl",{stencil:m});if(b==null){c("recoverableViolation")("Unable to create WebGL context","webgl");return function(){}}h(b);return function(){try{b.getExtension("WEBGL_lose_context").loseContext()}catch(a){c("recoverableViolation")("Failed to clean up WebGL context","webgl",{error:a})}}},[]);j(function(){if(g==null)return;var c=g.canvas,e=d("WebPixelRatio").get(),f=a*e;e=b*e;c.width=f;c.height=e;g.viewport(0,0,f,e);c.style.width=l?"100%":a+"px"},[g,a,b,l]);e=i(function(a){if(g==null)return;var b=g.canvas,c=b.parentNode;c!=null&&c.removeChild(b);a!=null&&a.appendChild(b)},[g]);return[g,e]}g["default"]=a}),98);
__d("useGLTFDerivedFOV",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i=1,j=.508015513,k=.666488587,l=.925,m=Object.freeze({landscape:-.14,portrait:-.124}),n=Object.freeze({landscape:-.124,portrait:-.112}),o=Object.freeze({landscape:.96,portrait:.8}),p=Object.freeze({landscape:.6,portrait:.7});function a(a){var b,c=d("react-compiler-runtime").c(16);b=(b=a==null?void 0:(b=a.getExtras())==null?void 0:(b=b.FB_PHOTO_3D_DATA)==null?void 0:b.vFov)!=null?b:k;b=b*l;b=b;a=(a=a==null?void 0:(a=a.getExtras())==null?void 0:(a=a.FB_PHOTO_3D_DATA)==null?void 0:a.hFov)!=null?a:j;a=a*l;a=a;var e=1/Math.tan(b/2),f=a/b;f=e/f;var g;c[0]!==e||c[1]!==f?(g=[f,0,0,0,0,e,0,0,0,0,-1.0002000200020003,-1,0,0,-.20002000200020004,0],c[0]=e,c[1]=f,c[2]=g):g=c[2];e=g;f=e;g=a>b?"landscape":"portrait";e=m[g];var h=n[g];e=Math.tan(a/2)*i*e;h=Math.tan(b/2)*i*h;var q=1-o[g];g=p[g];var r;c[3]!==e||c[4]!==h||c[5]!==q||c[6]!==g?(r=[e,h,q,g],c[3]=e,c[4]=h,c[5]=q,c[6]=g,c[7]=r):r=c[7];e=r;h=e;q=h[0];g=h[1];r=h[2];e=h[3];c[8]!==a||c[9]!==q||c[10]!==g||c[11]!==f||c[12]!==r||c[13]!==e||c[14]!==b?(h={hFov:a,maxHorizontalAngle:q,maxVerticalAngle:g,projectionMatrix:f,targetInteractionWeightHorizontal:r,targetScrollWeightVertical:e,vFov:b},c[8]=a,c[9]=q,c[10]=g,c[11]=f,c[12]=r,c[13]=e,c[14]=b,c[15]=h):h=c[15];return h}g["default"]=a}),98);
__d("Comet3DPhotoViewer.react",["fbt","CometFeedStoryImmersiveMediaMouseOverlay.react","ConstUriUtils","FDSLazyPopoverTrigger.react","JSResourceForInteraction","Matrices","UserAgent","XR3DPhotoViewerEntry.react","clearTimeout","createMeshesFromGLTF","getCometPrefersReducedMotion","gkx","glMatrixLookingAtTarget","mergeRefs","promiseDone","react","setTimeout","useFrameTiming","useGLBLoadAndParse","useGLContext","useGLTFDerivedFOV","useResizeObserver","useThrottled","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,aa=b.useMemo,m=b.useRef,n=b.useState,ba=c("JSResourceForInteraction")("CometFeedStory3DPhotoContextMenu.react").__setRef("Comet3DPhotoViewer.react"),o=1,p=.01,ca=.005,da=.1,q=.06,ea=.12,r=c("gkx")("1872")?1:c("getCometPrefersReducedMotion")()?.25:1;function a(a){var b=a.aspectRatio,e=a.fallbackURI,f=a.fileURI,g=a.onLoad,i=a.photoID;a=a.storyContext;var s=c("gkx")("20861"),t=n(!1),u=t[0],v=t[1],w=m(null),x=j.createRef();t=n(1024);var y=t[0],z=t[1];t=c("useGLContext")(y,Math.ceil(y/b),{expand:!0,stencil:!0});var A=t[0],B=t[1];y=c("useFrameTiming")();var C=y[0],D=c("useGLBLoadAndParse")(f);b=n([]);var E=b[0],fa=b[1];l(function(){if(A==null||D==null)return;var a=!1;c("promiseDone")(c("createMeshesFromGLTF")(A,D).then(function(b){if(a)return;fa(b);g&&g();C(V)}));return function(){a=!0}},[A,D,g]);t=c("useGLTFDerivedFOV")(D);var F=t.hFov,G=t.maxHorizontalAngle,H=t.maxVerticalAngle,I=t.projectionMatrix,J=t.targetInteractionWeightHorizontal,K=t.targetScrollWeightVertical,L=t.vFov,M=k(function(){if(A==null||E.length===0)return;A.enable(A.DEPTH_TEST);A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT);A.enable(A.BLEND);A.blendFunc(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA);for(var a=E,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.program.use();d.draw()}},[E,A]),ga=function(){c("clearTimeout")(w.current),w.current=c("setTimeout")(function(){v(!0)},3e3)};y=function(){u&&v(!1),ga()};var N=c("useThrottled")(y,100),O=c("useVisibilityObserver")({onVisible:function(){c("clearTimeout")(w.current),w.current=c("setTimeout")(function(){v(!0)},3e3)}});l(function(){return function(){c("clearTimeout")(w.current)}},[]);var P=m([0,0]),Q=m(1),R=m(1),S=m([0,0]),T=m([0,0]),U=m(0),V=k(function(a){if(A==null)return;if(a!=null){if(U.current!==0){var b=Math.min(a-U.current,50);b=Math.max(Math.min(ca*b,1),0);var d=S.current,e=d[0];d=d[1];var f=T.current,g=f[0];f=f[1];T.current=[g+b*(e-g),f+b*(d-f)];g=Q.current;f=R.current;R.current=f+b*(g-f);(Math.abs(T.current[0]-e)>p||Math.abs(T.current[1]-d)>p||Math.abs(R.current-g)>p)&&C(V)}U.current=a}b=R.current;f=L*ea*(2*b-1)*r;e=(1-2*b)*H;d=T.current;g=d[0];a=d[1];d=Math.sin(g*Math.PI*.5*r);g=Math.sin(a*Math.PI*.5*r);a=L*q*g;var h=F*q*d;d=-d*G;g=-g*H;b=Math.pow(b+.16,3)/(Math.pow(b+.16,3)+Math.pow(1-(b+.16),3))-.9;a=-(a+f);f=-h;h=o-b*da*r;b=[0+h*Math.cos(a)*Math.sin(f),0+h*Math.sin(a),-o+h*Math.cos(a)*Math.cos(f)];h=[-(J*d),-(e*K+g*(1-K)),-o];a=c("glMatrixLookingAtTarget")(b,h);f=c("Matrices").invertMat4(a);for(d=E,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=d.length)break;b=d[g++]}else{g=d.next();if(g.done)break;b=g.value}h=b;h.setUniform("viewMatrix",f);h.setUniform("projectionMatrix",I)}M()},[M,A,F,G,H,E,I,C,J,K,L]);l(function(){var a=x==null?void 0:x.current;if(a==null)return;a=a.clientWidth;a!=null&&z(a)},[x]);var W=c("useResizeObserver")(function(a){z(Math.floor(a.width))}),X=k(function(){if(A==null)return;var a=A.canvas,b=0,c=0;while(a!=null)b+=a instanceof HTMLElement?a.offsetLeft:0,c+=a instanceof HTMLElement?a.offsetTop:0,a=a instanceof HTMLElement?a.offsetParent:null;P.current=[b,c]},[P,A]),Y=k(function(){var a;if(A==null)return;X();var b=window.innerHeight,c=A.canvas.clientHeight;b=b+c;a=P.current[1]-((a=(a=document.scrollingElement)==null?void 0:a.scrollTop)!=null?a:0)+c;c=a/b;Q.current=c;if(c<0||c>1)return;C(V)},[P,A,C,V,X]);b=k(function(a){if(A==null)return;X();var b=a.pageX;a=a.pageY;b=b-P.current[0];a=a-P.current[1];b=2*b/A.canvas.clientWidth-1;a=1-2*a/A.canvas.clientHeight;S.current=[b,a];N();if(b<-1||a<-1||b>1||a>1)return;C(V)},[A,S,C,N,V,X]);l(function(){document.addEventListener("scroll",Y);V();return function(){document.removeEventListener("scroll",Y)}},[V,Y]);var Z,$;if(i!=null){Z=(t=d("ConstUriUtils").getUri("/intern/compphoto/x3d/3dphoto_console"))==null?void 0:(y=t.setDomain("our.intern.facebook.com"))==null?void 0:(t=y.setProtocol("https"))==null?void 0:(y=t.addQueryParam("ent_id",i))==null?void 0:y.toString();$=(t=d("ConstUriUtils").getUri("/intern/compphoto/x3d/"+i+"/depth"))==null?void 0:(y=t.setDomain("our.intern.facebook.com"))==null?void 0:(i=y.setProtocol("https"))==null?void 0:i.toString()}t=n(0);y=t[0];var ha=t[1];i=n(0);t=i[0];var ia=i[1],ja=function(a,b){var d=/^a$/i.test(a.target.nodeName||""),e=c("UserAgent").isPlatform("Mac OS X")?a.metaKey:a.ctrlKey;d=!d&&s&&e;d&&(ha(a.nativeEvent.offsetX),ia(a.nativeEvent.offsetY),a.preventDefault(),b())};i=aa(function(){return c("mergeRefs")(B,O,x,W)},[B,O,x,W]);a=c("XR3DPhotoViewerEntry.react")!=null?j.jsx(c("XR3DPhotoViewerEntry.react"),{fov:[F,L],gl:A,meshes:E,storyContext:a}):null;var ka=j.jsxs("div",{onMouseMove:b,ref:i,children:[j.jsx(c("CometFeedStoryImmersiveMediaMouseOverlay.react"),{descriptionFbt:h._(/*BTDS*/"__JHASH__l2tPgC8L6Zy__JHASH__"),isActive:u,showClick:!1}),a]});b=j.jsx(c("FDSLazyPopoverTrigger.react"),{popoverProps:{consoleURL:Z,depthURL:$,fallbackImgURL:e,fileURL:f,mouseClickX:y,mouseClickY:t},popoverResource:ba,children:function(a,b){return j.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{onContextMenu:function(a){ja(a,b)},ref:a,children:ka}))}});return s?b:ka}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometRemote3DPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"}],kind:"Fragment",metadata:null,name:"CometRemote3DPhotoViewer_photo",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{condition:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_3d_motion_disabled",storageKey:null}]}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometRemote3DPhotoViewer.react",["Comet3DPhotoLoadingOverlay.react","Comet3DPhotoViewer.react","CometFeedStoryViewportMaxHeightMediaLayout.react","CometPhotoViewerImgRenderer.react","CometPhotoViewerInnerWrapper.react","CometRelay","CometRemote3DPhotoViewer_photo.graphql","clearTimeout","react","react-compiler-runtime","recoverableViolation","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect,m=e.useRef,n=e.useState,o={content:{height:"x5yr21d",position:"x1n2onr6",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(31),f=a.fallbackHeight,g=a.fallbackWidth,j=a.mediaUri,q=a.storyContext,r=d("CometRelay").useFragment(h!==void 0?h:h=b("CometRemote3DPhotoViewer_photo.graphql"),a.photo),s=n(!1),t=s[0],u=s[1];s=n(!1);var v=s[0],w=s[1],x=m(null),y=r==null?void 0:r.accessibility_caption,z;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){x.current=c("setTimeout")(function(){w(!0)},2e3);return function(){x.current!=null&&c("clearTimeout")(x.current)}},z=[],e[0]=s,e[1]=z):(s=e[0],z=e[1]);l(s,z);e[2]===Symbol["for"]("react.memo_cache_sentinel")?(s=function(){u(!0)},e[2]=s):s=e[2];z=s;s=!v||!t;if(e[3]!==(r==null?void 0:r.immersive_photo_encodings)){t=(v=r==null?void 0:r.immersive_photo_encodings)!=null?v:[];e[3]=r==null?void 0:r.immersive_photo_encodings;e[4]=t}else t=e[4];v=t;e[5]!==v?(t=v.find(p),e[5]=v,e[6]=t):t=e[6];v=t;if(a.glbFileURI==null&&v==null){c("recoverableViolation")("3D photo does not have three_d encoding","comet_feed");e[7]!==y||e[8]!==f||e[9]!==j?(t=k.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return k.jsx(c("CometPhotoViewerImgRenderer.react"),{alt:(b=y)!=null?b:void 0,currentImgSrc:j,height:f,origSrc:j,xstyle:a})}}),e[7]=y,e[8]=f,e[9]=j,e[10]=t):t=e[10];return t}a=a.glbFileURI!=null?a.glbFileURI:(t=v==null?void 0:v.binary_cdn_uri)!=null?t:"";v=(t=v==null?void 0:v.id)!=null?t:"";(g===0||f===0)&&c("recoverableViolation")("null fallback size was provided for 3d photo","comet_feed");e[11]!==f||e[12]!==g?(t=g===0||f===0?{aspectRatio:1,height:1,width:1}:{aspectRatio:g/f,height:f,width:g},e[11]=f,e[12]=g,e[13]=t):t=e[13];t=t;t=t.aspectRatio;e[14]!==y||e[15]!==t||e[16]!==f||e[17]!==a||e[18]!==j||e[19]!==s||e[20]!==(r==null?void 0:r.is_3d_motion_disabled)||e[21]!==v||e[22]!==q?(z=(r==null?void 0:r.is_3d_motion_disabled)!==!0&&a!=null&&c("Comet3DPhotoViewer.react")!=null?k.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[k.jsx(c("Comet3DPhotoViewer.react"),{aspectRatio:t,fallbackURI:j,fileURI:a,onLoad:z,photoID:v,storyContext:q}),k.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x47corl x10l6tqk x13vifvy"},{children:k.jsx(c("Comet3DPhotoLoadingOverlay.react"),{isVisible:s})}))]})):k.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return k.jsx(c("CometPhotoViewerImgRenderer.react"),{alt:(b=y)!=null?b:void 0,currentImgSrc:j,height:f,origSrc:j,xstyle:a})}}),e[14]=y,e[15]=t,e[16]=f,e[17]=a,e[18]=j,e[19]=s,e[20]=r==null?void 0:r.is_3d_motion_disabled,e[21]=v,e[22]=q,e[23]=z):z=e[23];var A=z;e[24]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nb4dca x1q0q8m5 xso031l x1exxf4d x13fuv20 x178xt8z x2qxk11"},e[24]=t):t=e[24];e[25]!==A?(a=function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.content,a),{children:k.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{children:A}))}))},e[25]=A,e[26]=a):a=e[26];e[27]!==f||e[28]!==g||e[29]!==a?(s=k.jsx("div",babelHelpers["extends"]({},t,{children:k.jsx(c("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:null,mediaHeight:f,mediaWidth:g,children:a})})),e[27]=f,e[28]=g,e[29]=a,e[30]=s):s=e[30];return s}function p(a){return(a==null?void 0:a.projection_type)==="three_d"}g["default"]=a}),98);
__d("CometRemote3DPhotoViewerRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometRemote3DPhotoViewerRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometRemote3DPhotoViewer_photo"}],storageKey:null}],type:"XFBCometImmersive3DPhotoRenderer",abstractKey:null};e.exports=a}),null);
__d("CometRemote3DPhotoViewerRenderer.react",["CometRelay","CometRemote3DPhotoViewer.react","CometRemote3DPhotoViewerRenderer_renderer.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.fallback,g=a.fallbackHeight,i=a.fallbackWidth,k=a.glbFileURI,l=a.mediaUri;a=a.renderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometRemote3DPhotoViewerRenderer_renderer.graphql"),a);a=a==null?void 0:a.photo;if(a==null)return f;var m;e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==k||e[4]!==l||e[5]!==a?(m=j.jsx(c("CometRemote3DPhotoViewer.react"),{fallback:f,fallbackHeight:g,fallbackWidth:i,glbFileURI:k,mediaUri:l,photo:a}),e[0]=f,e[1]=g,e[2]=i,e[3]=k,e[4]=l,e[5]=a,e[6]=m):m=e[6];return m}g["default"]=a}),98);
__d("CometRemote3DPhotoViewerRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometRemote3DPhotoViewerRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},a,{condition:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_3d_motion_disabled",storageKey:null}]}],storageKey:null}]}}();e.exports=a}),null);/*FB_PKG_DELIM*/
__d("CometPhotoViewerImageSuspense",["Promise","PromiseAnnotate","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=document.body,m=typeof jest==="undefined"&&document!==void 0&&typeof document.createElement==="function";function n(a){return new(h||(h=b("Promise")))(function(b){if(!m||l==null)return b();var c=document.createElement("img");c.onload=c.onerror=b;c.src=a})}var o=new Map(),p=2e3,q={get:function(a){var b=o.get(a);if(b!=null){o["delete"](a);o.set(a,b);return b}},set:function(a,b){o["delete"](a);o.set(a,b);if(o.size>p){a=o.keys().next();a.done||o["delete"](a.value)}}};function r(a){if(a==null)return;var b=q.get(a);if(b!=null)if(b.pending===!0)throw b.promise;else return;else{b=n(a);(i||(i=d("PromiseAnnotate"))).setDisplayName(b,"SuspenseImage");var c={pending:!0,promise:b};b.then(function(){c.pending===!0&&(c.pending=!1)});q.set(a,c);throw b}}c=k.forwardRef(a);function a(a,b){var c=d("react-compiler-runtime").c(5),e;c[0]!==a?(e=babelHelpers["extends"]({},a),c[0]=a,c[1]=e):e=c[1];r(e.src);c[2]!==e||c[3]!==b?(a=k.jsx("img",babelHelpers["extends"]({},e,{ref:b})),c[2]=e,c[3]=b,c[4]=a):a=c[4];return a}e=c;g["default"]=e}),98);
__d("CometPhotoViewerInnerWrapper.react",["CometRouteRenderType","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={backgroundContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x1xoerdy",$$css:!0},backgroundContainerDialog:{height:"x1dr59a3",$$css:!0},backgroundContainerDialogWithFooter:{height:"x4uq5q4",$$css:!0},backgroundContainerTabs:{height:"xtp0wl1",$$css:!0},backgroundContainerTabsWithFooter:{height:"xossbfl",$$css:!0},image:{height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},maxImageHeightDialog:{maxHeight:"x1bwycvy",$$css:!0},maxImageHeightDialogWithFooter:{maxHeight:"x4ju7c5",$$css:!0},maxImageHeightTabs:{maxHeight:"x85a59c",$$css:!0},maxImageHeightTabsWithFooter:{maxHeight:"x1wlxzsl",$$css:!0},passthroughImage:{backgroundPosition:"x1lvsgvq",backgroundRepeat:"xiy17q3",backgroundSize:"x1tbiz1a",height:"x5yr21d",width:"xh8yej3",$$css:!0},placeholderContainer:{width:"xh8yej3",$$css:!0}};function l(a,b){var e=d("react-compiler-runtime").c(6);a=a===void 0?!1:a;b=b===void 0?!1:b;var f=d("CometRouteRenderType").useIsPushView(),g=!a&&f&&k.backgroundContainerDialog,i=!a&&!f&&k.backgroundContainerTabs,j=a&&f&&k.backgroundContainerDialogWithFooter;a=a&&!f&&k.backgroundContainerTabsWithFooter;f=b&&k.placeholderContainer;e[0]!==g||e[1]!==i||e[2]!==j||e[3]!==a||e[4]!==f?(b=(h||(h=c("stylex")))(k.backgroundContainer,g,i,j,a,f),e[0]=g,e[1]=i,e[2]=j,e[3]=a,e[4]=f,e[5]=b):b=e[5];return b}function m(a,b){var e=d("react-compiler-runtime").c(7),f=d("CometRouteRenderType").useIsPushView(),g=!a&&f&&k.maxImageHeightDialog,i=!a&&!f&&k.maxImageHeightTabs,j=a&&f&&k.maxImageHeightDialogWithFooter;a=a&&!f&&k.maxImageHeightTabsWithFooter;f=b&&k.passthroughImage;b=!b&&k.image;var l;e[0]!==g||e[1]!==i||e[2]!==j||e[3]!==a||e[4]!==f||e[5]!==b?(l=(h||(h=c("stylex")))(g,i,j,a,f,b),e[0]=g,e[1]=i,e[2]=j,e[3]=a,e[4]=f,e[5]=b,e[6]=l):l=e[6];return l}function n(a,b){var c=d("react-compiler-runtime").c(7),e=d("CometRouteRenderType").useIsPushView(),f=!a&&e&&k.maxImageHeightDialog,g=!a&&!e&&k.maxImageHeightTabs,h=a&&e&&k.maxImageHeightDialogWithFooter;a=a&&!e&&k.maxImageHeightTabsWithFooter;e=b&&k.passthroughImage;b=!b&&k.image;var i;c[0]!==f||c[1]!==g||c[2]!==h||c[3]!==a||c[4]!==e||c[5]!==b?(i=[f,g,h,a,e,b],c[0]=f,c[1]=g,c[2]=h,c[3]=a,c[4]=e,c[5]=b,c[6]=i):i=c[6];return i}e=j.forwardRef(a);function a(a,b){var c=d("react-compiler-runtime").c(9),e=a.height,f=a.imageUri,g=a.showPlaceholderImage,h=a.width;a=a.withFooter;g=g===void 0?!0:g;a=a===void 0?!1:a;a=m(a,!0);var i=l(!1,!0),k;c[0]!==e||c[1]!==f||c[2]!==a||c[3]!==g||c[4]!==h?(k=f!=null&&g&&j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k xmz0i5r x1n2onr6 x5yr21d xh8yej3"},{children:j.jsx("div",{className:a,style:e!=null&&h!=null?{backgroundImage:"url("+f+")",maxHeight:e,maxWidth:h}:{backgroundImage:"url("+f+")"}},f)})),c[0]=e,c[1]=f,c[2]=a,c[3]=g,c[4]=h,c[5]=k):k=c[5];if(c[6]!==i||c[7]!==k){f=j.jsx("div",{className:i,ref:(e=b)!=null?e:null,children:k});c[6]=i;c[7]=k;c[8]=f}else f=c[8];return f}f=j.forwardRef(b);function b(a,b){var c=d("react-compiler-runtime").c(9),e=a.imageComponent,f=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var g=m(a,!1);a=n(a,!1);var h;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x6s0dn4 x78zum5 xl56j7k xmz0i5r x1n2onr6"},c[0]=h):h=c[0];var i;c[1]!==e||c[2]!==f||c[3]!==g||c[4]!==a?(i=e!=null?e(g):f!=null?f(a):null,c[1]=e,c[2]=f,c[3]=g,c[4]=a,c[5]=i):i=c[5];c[6]!==b||c[7]!==i?(e=j.jsx("div",babelHelpers["extends"]({},h,{ref:b,children:i})),c[6]=b,c[7]=i,c[8]=e):e=c[8];return e}a=f;b=e;g.useCometPhotoViewerContainerStyles=l;g.CometPhotoViewerImageWrapper=a;g.CometPhotoViewerPlaceholderWrapper=b}),98);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="deleteMessage",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b}),98);
__d("MWChatMediaData",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a==null||a.__typename!=="MessageVideo"||a.sdUrl==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null||a.original_dimensions==null||a.original_dimensions.x==null||a.original_dimensions.y==null?null:{hdUrl:a.hdUrl,imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id,originalDimensions:{x:a.original_dimensions.x,y:a.original_dimensions.y},sdUrl:a.sdUrl}},h=function(a){return a==null||a.__typename!=="MessageImage"||a.image==null||a.image.uri==null||a.image.width==null||a.image.height==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null?null:{blurredImageUri:a.blurred_image_uri,image:{downloadableUri:a.image.downloadable_uri,height:a.image.height,uri:a.image.uri,width:a.image.width},imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id}},i=function(a){return a==null||a.__typename!=="MessageAnimatedImage"||a.image==null||a.image.uri==null||a.image.width==null||a.image.height==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null?null:{blurredImageUri:null,image:{downloadableUri:a.image.downloadable_uri,height:a.image.height,uri:a.image.uri,width:a.image.width},imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id}};a=function(a){return a.reduce(function(a,b){if(b==null||b.node==null||b.node.id==null||b.node.message_id==null||b.node.blob_attachments==null||b.cursor==null)return a;var c=b.node,d=c.blob_attachments,e=c.id,f=c.message_id,j=c.timestamp_precise,k=b.cursor;c=d.map(function(a){if(a.__typename==="MessageImage"){var b=h(a);return b==null?null:{__typename:"MessageImage",attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else if(a.__typename==="MessageVideo"){b=g(a);return b==null?null:{__typename:"MessageVideo",attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else if(a.__typename==="MessageAnimatedImage"){b=i(a);return b==null?null:{__typename:"MessageAnimatedImage",altText:a.animated_image_caption,attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else return null}).filter(Boolean);return a.concat(c)},[]).filter(Boolean)};f.normalizeMessages=a}),66);
__d("MWChatMediaReducer",[],(function(a,b,c,d,e,f){"use strict";a={curIdx:0,hasNextPage:!1,hasPrevPage:!1,initialCursor:null,isFetchingNextPage:!1,isFetchingPrevPage:!1,mediaList:[]};b=function(a,b){switch(b.type){case"initialize":return babelHelpers["extends"]({},a,{curIdx:b.curIdx,initialCursor:b.initialCursor,mediaList:b.mediaList});case"startFetchingNextPage":return babelHelpers["extends"]({},a,{isFetchingNextPage:!0});case"startFetchingPrevPage":return babelHelpers["extends"]({},a,{isFetchingPrevPage:!0});case"prevPageReceived":return babelHelpers["extends"]({},a,{curIdx:a.curIdx+b.medias.length,hasPrevPage:b.hasPrevPage,isFetchingPrevPage:!1,mediaList:b.medias.concat(a.mediaList)});case"nextPageReceived":return babelHelpers["extends"]({},a,{hasNextPage:b.hasNextPage,isFetchingNextPage:!1,mediaList:a.mediaList.concat(b.medias)});case"messageDeleted":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1),mediaList:b.mediaList});case"viewMediaAtIndex":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1)});default:return a}};f.initialState=a;f.reducer=b}),66);
__d("MWChatMediaRootQuery.graphql",["MWChatMediaRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"first"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"messageID"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"threadID"},i=[{kind:"Variable",name:"id",variableName:"threadID"}],j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},l=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Literal",name:"ascending",value:!0},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_VIDEO_AND_GIF"}],m={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t=[q,r,s,{alias:null,args:null,kind:"ScalarField",name:"downloadable_uri",storageKey:null}];q={alias:"image_thumb",args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:250}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[q,r,s],storageKey:"image(height:250,width:250)"};r={kind:"InlineFragment",selections:[p,{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:2048},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:t,storageKey:null},q],type:"MessageImage",abstractKey:null};s={kind:"InlineFragment",selections:[p,{alias:"sdUrl",args:[{kind:"Literal",name:"quality",value:"SD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"SD")'},{alias:"hdUrl",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},q,{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"MessageVideo",abstractKey:null};p={kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:t,storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null}],type:"MessageAnimatedImage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"MWChatMediaRootQuery",selections:[{alias:null,args:i,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[j,k,{alias:null,args:l,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[m,j,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[o,r,s,p],storageKey:null}],type:"UserMessage",abstractKey:null}],storageKey:null},t],storageKey:null},q],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,f,a,d,c,e,g],kind:"Operation",name:"MWChatMediaRootQuery",selections:[{alias:null,args:i,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[j,k,{alias:null,args:l,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,j,{kind:"InlineFragment",selections:[m,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[o,r,s,p,{kind:"InlineFragment",selections:[j],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"UserMessage",abstractKey:null}],storageKey:null},t],storageKey:null},q],storageKey:null}],storageKey:null}]},params:{id:b("MWChatMediaRootQuery_facebookRelayOperation"),metadata:{},name:"MWChatMediaRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatMediaUtil",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return;a.forEach(function(a){if(typeof a==="string"){var b=new Image();b.src=a}})};g.prefetchImages=a}),98);
__d("MWChatMediaViewerImage.react",["fbt","CometHero.react","CometPageletWithDiv.react","CometPhotoViewerImageSuspense","CometPhotoViewerInnerWrapper.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWXPressable.react","react","react-compiler-runtime","useMWMediaViewerOpenQPLLogger","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l={pauseGIFButon:{width:"xh8yej3",$$css:!0}},m=h._(/*BTDS*/"__JHASH__SUN00vbyQRp__JHASH__");function a(a){var b=d("react-compiler-runtime").c(27),e=a.blurredImageURI,f=a.imageURI,g=a.isAnimatedImage,i=a.origHeight,n=a.origSrc,o=a.origWidth;a=k(!1);var p=a[0],q=a[1];a=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var r=a.endSuccess;a=k(!1);var s=a[0],t=a[1];a=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();var u;b[0]!==g?(u=g===!0&&d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause(),b[0]=g,b[1]=u):u=b[1];g=u;b[2]!==r?(u=function(){r()},b[2]=r,b[3]=u):u=b[3];u=u;var v;b[4]!==u?(v={onImpressionStart:u},b[4]=u,b[5]=v):v=b[5];u=c("useSinglePartialViewImpression")(v);v=d("CometPhotoViewerInnerWrapper.react").useCometPhotoViewerContainerStyles(!0);var w=g&&a!==!0;b[6]!==i||b[7]!==n||b[8]!==o?(g=n!=null?j.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:i,imageUri:n,showPlaceholderImage:n!=null&&o!=null&&i!=null,width:o,withFooter:!0}):null,b[6]=i,b[7]=n,b[8]=o,b[9]=g):g=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("CometHero.react"),{description:"MWChatMediaViewerImage"}),b[10]=a):a=b[10];b[11]!==e||b[12]!==w||b[13]!==f||b[14]!==s||b[15]!==p||b[16]!==i||b[17]!==o?(n=e==null||p?j.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){var b;return j.jsx(j.Fragment,{children:w&&s===!1?j.jsx(c("MWAnimatedImageThumbnailWithPlayButton.react"),{altText:m.toString(),connectBottom:!1,connectTop:!1,dbAttachment:null,isInMediaViewer:!0,isInThread:!1,mediaRenderQpl:null,message:null,onPlay:function(){return t(!0)},outgoing:!1,previewHeight:(b=i)!=null?b:0,previewWidth:(b=o)!=null?b:0,sourceURL:f}):j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__210-OYWdJBG__JHASH__"),onPress:function(){w&&t(!1)},xstyle:l.pauseGIFButon,children:j.jsx(c("CometPhotoViewerImageSuspense"),{alt:m,className:a,src:f},f)})})},withFooter:!0}):j.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"__JHASH__jjpvSNJ1g5C__JHASH__"),onPress:function(){return q(!0)},children:j.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){var b;return j.jsx(j.Fragment,{children:w?j.jsx(c("MWAnimatedImageThumbnailWithPlayButton.react"),{altText:m.toString(),connectBottom:!1,connectTop:!1,dbAttachment:null,isInThread:!1,mediaRenderQpl:null,message:null,onPlay:function(){return t(!0)},outgoing:!1,previewHeight:(b=i)!=null?b:0,previewWidth:(b=o)!=null?b:0,sourceURL:e}):j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__210-OYWdJBG__JHASH__"),onPress:function(){w&&t(!1)},children:j.jsx(c("CometPhotoViewerImageSuspense"),{alt:m,className:a,src:e},e)})})},withFooter:!0})}),b[11]=e,b[12]=w,b[13]=f,b[14]=s,b[15]=p,b[16]=i,b[17]=o,b[18]=n):n=b[18];b[19]!==f||b[20]!==v||b[21]!==g||b[22]!==n?(p=j.jsxs(d("CometPageletWithDiv.react").Placeholder,{className:v,fallback:g,name:"MessengerMediaViewerPhoto",pageletType:"media",children:[a,n]},f),b[19]=f,b[20]=v,b[21]=g,b[22]=n,b[23]=p):p=b[23];b[24]!==u||b[25]!==p?(a=j.jsx("div",{"data-testid":void 0,ref:u,children:p}),b[24]=u,b[25]=p,b[26]=a):a=b[26];return a}g["default"]=a}),226);
__d("MWChatMediaViewerStage.react",["fbt","CometKeys","CometMediaViewerFilmstrip.react","CurrentEnvironment","FDSBlurredBackgroundImage.react","MWChatMediaViewerNavigationTapTarget.react","MWXLink.react","UNTRANSLATED_STRING_FIXME","XMessengerDotComCometRootControllerRouteBuilder","cr:7801","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","stylex","useCometRouterDispatcher","useDebouncedComet","useIsReadOnlyFeatureLimitedWithThreadType","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.useRef,m=e.useState,n=c("deferredLoadComponent")(c("requireDeferred")("MWChatMediaViewerControls.react").__setRef("MWChatMediaViewerStage.react")),o={footer:{maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},headerContainer:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1s65kcs",end:"xbruw4w",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},messengerDotComHeaderContainerHeight:{height:"xnnlda6",end:"xds687c",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xal61yo",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",minWidth:"x17upfok",position:"x1n2onr6",userSelect:"x87ps6o",":focus_outline":"x1uvtmcs",$$css:!0},rootFullHeight:{height:"x1dr59a3",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollableFooter:{zIndex:"x1vjfegm",$$css:!0},workplaceHeaderContainer:{height:"xng8ra",end:"xlr8s2x",zIndex:"xhtitgo",$$css:!0},workroomsHeaderContainer:{height:"xng8ra",end:"xlr8s2x",zIndex:"xhtitgo",$$css:!0}},p=2e3,q=c("gkx")("22681");function a(a){var e=d("react-compiler-runtime").c(75),f=a.activeIndex,g=a.attachmentID,j=a.backgroundSrc,s=a.children,t=a.disableNextButton,u=a.disablePrevButton,v=a.downloadLink,w=a.hideNextButton,x=a.hidePrevButton,y=a.isForwardEnabledForThread,z=a.messageID,A=a.setActiveIndex,B=a.showMessengerLink,C=c("CurrentEnvironment").messengerdotcom,D=c("gkx")("20836"),E=c("gkx")("22805"),F=c("useIsReadOnlyFeatureLimitedWithThreadType")(null);F=!F&&y&&(!D||!c("gkx")("4888"));e[0]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"__JHASH__LwpPfoJWBJ-__JHASH__"),e[0]=y):y=e[0];y=y;var G;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(G=h._(/*BTDS*/"__JHASH__37s-bUHecpV__JHASH__"),e[1]=G):G=e[1];G=G;var H=l(!0),I=m(!1),J=I[0],K=I[1],L=l(null),M=c("useCometRouterDispatcher")();I=function(){return O.isPending()?Q():O()};var N;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(N={leading:!0,wait:p},e[2]=N):N=e[2];var O=c("useDebouncedComet")(function(){K(!1),Q()},N),P;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(N=function(){K(!0),H.current=!1},P={leading:!1,wait:p},e[3]=N,e[4]=P):(N=e[3],P=e[4]);var Q=c("useDebouncedComet")(N,P);e[5]!==Q?(N=function(){Q(),L.current&&H.current&&L.current.focus()},e[5]=Q,e[6]=N):N=e[6];c("useLayoutEffect_SAFE_FOR_SSR")(N);e[7]!==M?(P=function(){M!=null&&M.popPushView()},e[7]=M,e[8]=P):P=e[8];N=P;if(e[9]!==t||e[10]!==u||e[11]!==w||e[12]!==x||e[13]!==a.activeIndex||e[14]!==A){P=[];if(!x&&!u){var R;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(R={key:c("CometKeys").LEFT},e[16]=R):R=e[16];e[17]!==a.activeIndex||e[18]!==A?(R={command:R,description:y,handler:function(){return A(a.activeIndex-1)}},e[17]=a.activeIndex,e[18]=A,e[19]=R):R=e[19];P.push(R)}if(!w&&!t){e[20]===Symbol["for"]("react.memo_cache_sentinel")?(R={key:c("CometKeys").RIGHT},e[20]=R):R=e[20];e[21]!==a.activeIndex||e[22]!==A?(R={command:R,description:G,handler:function(){return A(a.activeIndex+1)}},e[21]=a.activeIndex,e[22]=A,e[23]=R):R=e[23];P.push(R)}e[9]=t;e[10]=u;e[11]=w;e[12]=x;e[13]=a.activeIndex;e[14]=A;e[15]=P}else P=e[15];R=P;t=R;u=x||J;e[24]!==f||e[25]!==A?(P=function(){return A(f-1)},e[24]=f,e[25]=A,e[26]=P):P=e[26];e[27]!==u||e[28]!==P?(R=k.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:"previous",invisible:u,label:y,onClick:P,testid:void 0,trackingNode:143}),e[27]=u,e[28]=P,e[29]=R):R=e[29];x=R;y=w||J;e[30]!==f||e[31]!==A?(u=function(){return A(f+1)},e[30]=f,e[31]=A,e[32]=u):u=e[32];e[33]!==y||e[34]!==u?(P=k.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:"next",invisible:y,label:G,onClick:u,testid:void 0,trackingNode:142}),e[33]=y,e[34]=u,e[35]=P):P=e[35];R=P;w=c("gkx")("1775");c("useLayerKeyCommands")(t);e[36]===Symbol["for"]("react.memo_cache_sentinel")?(J=(i||(i=c("stylex"))).props([o.root,w&&o.rootFullHeight]),e[36]=J):J=e[36];e[37]!==B?(G=B&&k.jsx("div",babelHelpers["extends"]({className:"x16q8cke x10l6tqk xomnu4r x1n327nk"},{children:k.jsx(c("MWXLink.react"),{"aria-label":c("UNTRANSLATED_STRING_FIXME")("Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:k.jsx(b("cr:7801"),{height:"40",width:"40"})})})),e[37]=B,e[38]=G):G=e[38];e[39]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx("div",{className:"x1f90px3 x1ffmiix x10l6tqk xh8yej3 x1vjfegm"}),u={className:"x1ey2m1c xds687c x17qophe xuzhngd x10l6tqk x13vifvy"},e[39]=y,e[40]=u):(y=e[39],u=e[40]);e[41]!==j?(P=j!=null?k.jsx(c("FDSBlurredBackgroundImage.react"),{src:j}):null,e[41]=j,e[42]=P):P=e[42];e[43]!==P?(t=k.jsx("div",babelHelpers["extends"]({},u,{children:P})),e[43]=P,e[44]=t):t=e[44];e[45]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x9f619 x78zum5 x1iyjqo2 x5yr21d xl56j7k x6ikm8r x10wlt62 x1n2onr6 xh8yej3 xvj1nn1 x1nd34w2"},e[45]=B):B=e[45];e[46]!==g||e[47]!==F||e[48]!==v||e[49]!==z?(j=g!=null&&z!=null?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.headerContainer,C&&o.messengerDotComHeaderContainerHeight,D&&o.workplaceHeaderContainer,E&&o.workroomsHeaderContainer),{children:k.jsx(n,{attachmentID:g,canForward:F,downloadLink:v,messageID:z})})):null,e[46]=g,e[47]=F,e[48]=v,e[49]=z,e[50]=j):j=e[50];e[51]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x1ey2m1c x78zum5 xds687c x17qophe x1qughib x10l6tqk x13vifvy x1ja2u2z"},e[51]=u):u=e[51];e[52]!==N?(P=!q&&k.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},{className:"x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"},{"data-testid":void 0,onClick:N})),e[52]=N,e[53]=P):P=e[53];e[54]!==x||e[55]!==R||e[56]!==P?(C=k.jsxs("div",babelHelpers["extends"]({},u,{children:[P,x,R]})),e[54]=x,e[55]=R,e[56]=P,e[57]=C):C=e[57];e[58]!==s||e[59]!==j||e[60]!==C?(D=k.jsxs("div",babelHelpers["extends"]({},B,{children:[j,C,s]})),e[58]=s,e[59]=j,e[60]=C,e[61]=D):D=e[61];e[62]===Symbol["for"]("react.memo_cache_sentinel")?(E=(i||(i=c("stylex"))).props([o.footer,w&&o.scrollableFooter]),e[62]=E):E=e[62];e[63]!==a.thumbnails?(g=a.thumbnails.map(r),e[63]=a.thumbnails,e[64]=g):g=e[64];e[65]!==f||e[66]!==A||e[67]!==g?(F=k.jsx("div",babelHelpers["extends"]({},E,{children:k.jsx(c("CometMediaViewerFilmstrip.react"),{activeIndex:f,images:g,onSetImage:A})})),e[65]=f,e[66]=A,e[67]=g,e[68]=F):F=e[68];e[69]!==I||e[70]!==G||e[71]!==t||e[72]!==D||e[73]!==F?(v=k.jsxs("div",babelHelpers["extends"]({},J,{"data-testid":void 0,onMouseMove:I,ref:L,tabIndex:"0",children:[G,y,t,D,F]})),e[69]=I,e[70]=G,e[71]=t,e[72]=D,e[73]=F,e[74]=v):v=e[74];return v}function r(a){return babelHelpers["extends"]({},a,{mediaType:"image"})}g["default"]=a}),226);
__d("MWChatMediaViewerVideo.react",["CometRouteRenderType","MWChatVideoPlayer.react","MWVideoPlayerControllerContext.react","react","react-compiler-runtime","stylex","useMWMediaViewerOpenQPLLogger","useRoutePassthroughProps","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useEffect;b.useMemo;var n=b.useRef,o={videoContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"x1xoerdy",width:"xh8yej3",$$css:!0},videoContainerDialog:{height:"x4uq5q4",$$css:!0},videoContainerTabs:{height:"x1ch8t6n",$$css:!0}};function p(a){var b=a.fbid,e=a.hdSrc,f=a.originalHeight,g=a.originalWidth;a=a.sdSrc;var i=d("CometRouteRenderType").useIsPushView(),p=c("useRoutePassthroughProps")(),q=(p==null?void 0:p.startTimestamp)!=null?Number(p.startTimestamp):void 0;p=(p==null?void 0:p.volumeSetting)!=null?Number(p.volumeSetting):void 0;var r=n(!1),s=l(c("MWVideoPlayerControllerContext.react")),t=s.ref.current;m(function(){t!==null&&!r.current&&(t.setMuted(!1,"product_initiated"),r.current=!0)},[t,r]);s=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var u=s.endSuccess;s=k(function(){u()},[u]);s=c("useSinglePartialViewImpression")({onImpressionStart:s});return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.videoContainer,i&&o.videoContainerDialog,!i&&o.videoContainerTabs),{ref:s,children:j.jsx(c("MWChatVideoPlayer.react"),{controls:"mwchat",fbid:b,hdSrc:e,initialForceHD:!0,isMediaViewer:!0,mediaRenderQpl:null,originalHeight:f,originalWidth:g,sdSrc:a,shouldForcePauseOnClick:!1,startTimestamp:q,volumeSetting:p})}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(3),e=n(null);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={ref:e},b[0]=e):e=b[0];e=e;e=e;b[1]!==a?(e=j.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:e,children:j.jsx(p,babelHelpers["extends"]({},a))}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWChatMediaRoot.react",["fbt","CometContentNotAvailable.react","CometErrorBoundary.react","CometErrorRoot.react","CometRelay","CometRouteParams","CometRouterPushViewStackContext","I64","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatDeleteMessageEventEmitter","MWChatMediaData","MWChatMediaReducer","MWChatMediaRootQuery.graphql","MWChatMediaUtil","MWChatMediaViewerImage.react","MWChatMediaViewerStage.react","MWChatMediaViewerVideo.react","MWChatMessageId","MWLSThread","Promise","ReQL","ReQLSuspense","WebPixelRatio","deferredLoadComponent","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useIsMountedRef","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useCallback,p=e.useContext,q=e.useEffect,r=e.useReducer,s=e.useState,t=c("deferredLoadComponent")(c("requireDeferred")("MWV2MediaViewerThreadCutoverWrapper.react").__setRef("MWChatMediaRoot.react")),u=c("deferredLoadComponent")(c("requireDeferred")("MWV2MediaViewerContent.react").__setRef("MWChatMediaRoot.react")),v=20,w=i!==void 0?i:i=b("MWChatMediaRootQuery.graphql");function x(a){var e,f=a.props;a=a.queries;var g=d("CometRelay").useRelayEnvironment(),i=d("CometRouteParams").useRouteParams();f.manualRouteParams!=null&&(i=f.manualRouteParams);var j=p(c("CometRouterPushViewStackContext"))||[];j=j.length===0&&f.routeProps.showMessengerLink;f=s(null);var m=f[0],t=f[1];f=r(d("MWChatMediaReducer").reducer,d("MWChatMediaReducer").initialState);var u=f[0],x=u.curIdx,y=u.hasNextPage,z=u.hasPrevPage,A=u.initialCursor,B=u.isFetchingNextPage,C=u.isFetchingPrevPage,D=u.mediaList,E=f[1],F=c("useIsMountedRef")(),G=d("CometRelay").usePreloadedQuery(w,a.messengerMediaRootQueryReference);if(m!==null)throw m;q(function(){var a;a=G==null?void 0:(a=G.message_thread)==null?void 0:(a=a.messages_with_attachments)==null?void 0:(a=a.edges[0])==null?void 0:a.cursor;if(a!=null&&A===null){var b;b=G==null?void 0:(b=G.message_thread)==null?void 0:(b=b.messages_with_attachments)==null?void 0:b.edges;if(b!=null){b=d("MWChatMediaData").normalizeMessages(b);var c=0;i.attachment_id!=null&&(c=b.findIndex(function(a){return a.attachment.legacyAttachmentID===i.attachment_id}));E({curIdx:c,initialCursor:a,mediaList:b,type:"initialize"})}}},[A,G,i.attachment_id]);var H=G==null?void 0:(u=G.message_thread)==null?void 0:u.id;a=G==null?void 0:(f=G.message_thread)==null?void 0:f.folder;q(function(){return d("MWChatDeleteMessageEventEmitter").subscribe(function(a){var b=x,c=D.filter(function(c,d){c=c.messageID===a;c&&(d<=x&&x>0&&b--);return!c});c.length!==D.length&&(H!=null&&g.commitUpdate(function(a){return(a=a.get(H))==null?void 0:a.invalidateRecord()}));E({curIdx:b,mediaList:c,type:"messageDeleted"})})},[g,H,x,D]);var I=o(function(a){E({type:"startFetchingPrevPage"});if(typeof i.thread_id!=="string")return(k||(k=b("Promise"))).resolve();var c=i;c=c.thread_id;return d("CometRelay").fetchQuery(g,w,{before:a,last:v,scale:d("WebPixelRatio").get(),threadID:c}).toPromise().then(function(a){var b;if(!F.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;b=d("MWChatMediaData").normalizeMessages((b=a==null?void 0:a.edges)!=null?b:[]);if(b.length>0){E({hasPrevPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_previous_page)!=null?a:!1,medias:b,type:"prevPageReceived"})}})["catch"](function(a){if(!F.current)return;t(a)})},[g,F,i]),J=o(function(a){E({type:"startFetchingNextPage"});if(typeof i.thread_id!=="string")return(k||(k=b("Promise"))).resolve();var c=i;c=c.thread_id;return d("CometRelay").fetchQuery(g,w,{after:a,first:v,scale:d("WebPixelRatio").get(),threadID:c}).toPromise().then(function(a){var b;if(!F.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;b=d("MWChatMediaData").normalizeMessages((b=a==null?void 0:a.edges)!=null?b:[]);if(b.length>0){E({hasNextPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_next_page)!=null?a:!1,medias:b,type:"nextPageReceived"})}})["catch"](function(a){if(!F.current)return;t(a)})},[g,F,i]);q(function(){A!=null&&(c("promiseDone")(J(A)),c("promiseDone")(I(A)))},[g,J,I,A,i.thread_id]);var K=(u=(m=D[0])==null?void 0:m.cursor)!=null?u:null,L=(m=(f=D[D.length-1])==null?void 0:f.cursor)!=null?m:null;q(function(){x<=v/2&&z&&!C&&K!=null?c("promiseDone")(I(K)):x>=D.length-v/2&&y&&!B&&L!=null&&c("promiseDone")(J(L))},[x,I,J,y,z,K,L,D.length,B,C]);u=D[x-1];f=D[x+1];var M=null,N=null;u!=null&&u.__typename==="MessageImage"&&(M=u.attachment.image.uri);f!=null&&f.__typename==="MessageImage"&&(N=f.attachment.image.uri);q(function(){d("MWChatMediaUtil").prefetchImages([M,N])},[M,N]);m=D[x];u=typeof i.thread_id==="string"?(l||(l=d("I64"))).of_string(i.thread_id):null;f=d("MWLSThread").useThread(u,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)});if(((u=G==null?void 0:(u=G.message_thread)==null?void 0:(u=u.messages_with_attachments)==null?void 0:(u=u.edges)==null?void 0:u.length)!=null?u:0)<1)return n.jsx(c("CometContentNotAvailable.react"),{});if(A==null)return null;if(m==null)return n.jsx(c("CometContentNotAvailable.react"),{});u=D.map(function(a){var b=a.__typename,c=a.altText,d=a.attachment.imageThumb,e=d.height,f=d.uri;d=d.width;var g=h._(/*BTDS*/"__JHASH__SUN00vbyQRp__JHASH__");return{alt:b==="MessageAnimatedImage"?(b=c)!=null?b:g:g,height:e,key:(c=a.attachment.legacyAttachmentID)!=null?c:f,uri:f,width:d}}).filter(Boolean);return n.jsx(c("MWChatMediaViewerStage.react"),{activeIndex:x,attachmentID:m.attachment.legacyAttachmentID,backgroundSrc:m.__typename!=="MessageAnimatedImage"?m.attachment.imageThumb.uri:void 0,disableNextButton:B&&D[x+1]==null,disablePrevButton:C&&D[x-1]==null,downloadLink:m.__typename==="MessageVideo"?(e=m.attachment.hdUrl)!=null?e:m.attachment.sdUrl:m.attachment.image.downloadableUri,hideNextButton:!y&&D[x+1]==null,hidePrevButton:!z&&D[x-1]==null,isForwardEnabledForThread:a!=="COMMUNITY"&&a!=="E2EE_CUTOVER"&&!f,messageID:typeof i.thread_id==="string"&&m.timestamp!=null?d("MWChatMessageId").makeSent(i.thread_id,m.messageID,m.timestamp):null,setActiveIndex:function(a){return E({curIdx:a,type:"viewMediaAtIndex"})},showMessengerLink:j,thumbnails:u,children:m.__typename==="MessageVideo"?n.jsx(c("MWChatMediaViewerVideo.react"),{fbid:m.nodeID,hdSrc:m.attachment.hdUrl!=null?m.attachment.hdUrl:void 0,originalHeight:m.attachment.originalDimensions.x,originalWidth:m.attachment.originalDimensions.y,sdSrc:m.attachment.sdUrl}):m.__typename==="MessageImage"?n.jsx(c("MWChatMediaViewerImage.react"),{blurredImageURI:m.attachment.blurredImageUri,imageURI:m.attachment.image.uri}):m.__typename==="MessageAnimatedImage"?n.jsx(c("MWChatMediaViewerImage.react"),{blurredImageURI:null,imageURI:m.attachment.image.uri,isAnimatedImage:!0,origHeight:m.attachment.image.height,origWidth:m.attachment.image.width}):null})}x.displayName=x.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(4),e=d("CometRouteParams").useRouteParams();a.props.manualRouteParams!=null&&(e=a.props.manualRouteParams);var f=String(e.thread_id),g=String(e.attachment_id);e=String(e.message_id);g=z(g,e,f);if(c("gkx")("1775")&&g!=null)e=g;else{b[0]!==a?(f=n.jsx(x,babelHelpers["extends"]({},a)),b[0]=a,b[1]=f):f=b[1];e=f}b[2]!==e?(g=n.jsx(c("CometErrorBoundary.react"),{fallback:y,children:e}),b[2]=e,b[3]=g):g=b[3];return g}function y(){return n.jsx(c("CometErrorRoot.react"),{})}y.displayName=y.name+" [from "+f.id+"]";function z(a,b,c){var e=d("react-compiler-runtime").c(11),f;e[0]!==c?(f=(l||(l=d("I64"))).of_string(c),e[0]=c,e[1]=f):f=e[1];c=f;f=d("MAWThreadCutover").useGetCutoverOpenThreadKey(c);var g=d("MAWThreadCutover").useCutoverSecureThreadKeyForOpenThreadKey(f==null?c:void 0);c=d("MWLSThread").useThread(c);b=A(b,a);if(b==null||c==null)return null;if(f==null&&g==null)return null;a=f!=null?f:c.threadKey;f=g!=null?g:c.threadKey;e[2]!==b||e[3]!==c?(g=n.jsx(u,{initialAttachment:b,thread:c}),e[2]=b,e[3]=c,e[4]=g):g=e[4];var h;e[5]!==b||e[6]!==a||e[7]!==f||e[8]!==g||e[9]!==c.threadType?(h=n.jsx(t,{initialAttachment:b,openThreadKey:a,secureThreadKey:f,threadType:c.threadType,children:g}),e[5]=b,e[6]=a,e[7]=f,e[8]=g,e[9]=c.threadType,e[10]=h):h=e[10];return h}function A(a,b){var e=d("react-compiler-runtime").c(5),g=(j||(j=c("useReStore")))(),h,i;e[0]!==b||e[1]!==g.tables.attachments||e[2]!==a?(h=function(){return d("ReQL").fromTableAscending(g.tables.attachments).filter(function(c){return c.messageId===a&&c.attachmentFbid===b})},i=[g.tables.attachments,a,b],e[0]=b,e[1]=g.tables.attachments,e[2]=a,e[3]=h,e[4]=i):(h=e[3],i=e[4]);return d("ReQLSuspense").useFirst(h,i,f.id+":616")}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Variable",name:"width",variableName:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer.react",["CometErrorBoundary.react","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer.graphql","CometFeedStoryPhotoAttachmentImplementation","CometImage.react","CometPlaceholder.react","CometRelay","emptyFunction","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={featuredCard:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var e,f,g=d("react-compiler-runtime").c(13),i=a.accentColor,l=a.accessibilityCaption,m=a.focusX,n=a.focusY,o=a.heightOverride,p=a.isFeaturedCard,q=a.lowerBoundMinHeight,r=a.minCropAspectRatio,s=a.productTagLayer,t=a.productTagOverlay;a=a.renderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer.graphql"),a);e=a==null?void 0:(e=a.image)==null?void 0:e.uri;if(e==null)throw c("unrecoverableViolation")("mediaUri cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");f=(f=a==null?void 0:(f=a.image)==null?void 0:f.height)!=null?f:o;a=a==null?void 0:(o=a.image)==null?void 0:o.width;if(a==null||f==null)throw c("unrecoverableViolation")("width and/or height cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");g[0]!==i||g[1]!==l||g[2]!==m||g[3]!==n||g[4]!==f||g[5]!==p||g[6]!==q||g[7]!==e||g[8]!==r||g[9]!==s||g[10]!==t||g[11]!==a?(o=p===!0?j.jsx(c("CometImage.react"),{src:e,xstyle:k.featuredCard}):j.jsxs(j.Fragment,{children:[j.jsx(c("CometFeedStoryPhotoAttachmentImplementation"),{accentColor:i,accessibilityCaption:l,focusX:m,focusY:n,height:f,lowerBoundMinHeight:q,minCropAspectRatio:r,uri:e,width:a}),s&&j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:s})}),j.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l x1exxf4d x13fuv20 x178xt8z x1ey2m1c xds687c x17qophe x47corl x10l6tqk x13vifvy"}),t]}),g[0]=i,g[1]=l,g[2]=m,g[3]=n,g[4]=f,g[5]=p,g[6]=q,g[7]=e,g[8]=r,g[9]=s,g[10]=t,g[11]=a,g[12]=o):o=g[12];return o}g["default"]=a}),98);
__d("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer$normalization",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Variable",name:"width",variableName:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("CometFeedStoryFollowButtonStrategy_followButton.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryFollowButtonStrategy_followButton",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_use_blue_link",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[{kind:"InlineFragment",selections:b,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:b,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_location",storageKey:null}],type:"FollowProfileActionLink",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null}],type:"CometFeedStoryFollowButtonStrategy",abstractKey:null}}();e.exports=a}),null);
__d("StoryHeaderFollowProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1811514");b=d("FalcoLoggerInternal").create("story_header_follow_profile",a);e=b;g["default"]=e}),98);
__d("CometPFTFFollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4568115643294053"}),null);
__d("CometPFTFFollowMutation.graphql",["CometPFTFFollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],f={kind:"InlineFragment",selections:e,type:"Page",abstractKey:null};e={kind:"InlineFragment",selections:e,type:"User",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPFTFFollowMutation",selections:[{alias:null,args:c,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[d,f,e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPFTFFollowMutation",selections:[{alias:null,args:c,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,f,e],storageKey:null}],storageKey:null}]},params:{id:b("CometPFTFFollowMutation_facebookRelayOperation"),metadata:{},name:"CometPFTFFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPFTFFollowMutation",["CometPFTFFollowMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometPFTFFollowMutation.graphql");function a(a,b,c,e,f,g){e=e?{__typename:"User",subscribe_status:"IS_SUBSCRIBED"}:{__typename:"Page",subscribe_status:"IS_SUBSCRIBED"};d("CometRelay").commitMutation(a,{mutation:i,onError:function(){},optimisticResponse:{actor_subscribe:{subscribee:babelHelpers["extends"]({id:b},e)}},variables:{input:{is_tracking_encrypted:g,subscribe_location:c,subscribee_id:b,tracking:[f]}}})}g.commit=a}),98);
__d("CometPFTFUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7024695230936780"}),null);
__d("CometPFTFUnfollowMutation.graphql",["CometPFTFUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],f={kind:"InlineFragment",selections:e,type:"Page",abstractKey:null};e={kind:"InlineFragment",selections:e,type:"User",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPFTFUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,f,e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPFTFUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,f,e],storageKey:null}],storageKey:null}]},params:{id:b("CometPFTFUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometPFTFUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPFTFUnfollowMutation",["CometPFTFUnfollowMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometPFTFUnfollowMutation.graphql");function a(a,b,c,e,f,g){e=e?{__typename:"User",subscribe_status:"CAN_SUBSCRIBE"}:{__typename:"Page",subscribe_status:"CAN_SUBSCRIBE"};d("CometRelay").commitMutation(a,{mutation:i,onError:function(){},optimisticResponse:{actor_unsubscribe:{unsubscribee:babelHelpers["extends"]({id:b},e)}},variables:{input:{is_tracking_encrypted:g,subscribe_location:c,tracking:[f],unsubscribee_id:b}}})}g.commit=a}),98);
__d("useCometPFTFFollow",["CometPFTFFollowMutation","CometPFTFUnfollowMutation","CometRelay","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){var i=d("react-compiler-runtime").c(12),j=d("CometRelay").useRelayEnvironment();if(a==null||b==null){var k;i[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=[!1,h],i[0]=k):k=i[0];return k}var l=b==="IS_SUBSCRIBED";i[1]!==j||i[2]!==c||i[3]!==e||i[4]!==l||i[5]!==g||i[6]!==a||i[7]!==f?(k=function(){l?d("CometPFTFUnfollowMutation").commit(j,a,c,e,f,g):d("CometPFTFFollowMutation").commit(j,a,c,e,f,g)},i[1]=j,i[2]=c,i[3]=e,i[4]=l,i[5]=g,i[6]=a,i[7]=f,i[8]=k):k=i[8];b=k;i[9]!==l||i[10]!==b?(k=[l,b],i[9]=l,i[10]=b,i[11]=k):k=i[11];return k}function h(){}g["default"]=a}),98);
__d("CometFeedStoryFollowButtonStrategy.react",["fbt","BaseMiddot.react","CometFeedStoryFollowButtonStrategy_followButton.graphql","CometLink.react","CometRelay","FDSText.react","StoryHeaderFollowProfileFalcoEvent","react","react-compiler-runtime","stylex","useCometFeedStoryMatchDebugger","useCometPFTFFollow","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m="IFR_POST_IN_NEWS_FEED",n={adaptiveContainer:{display:"x78zum5",$$css:!0},adaptiveMiddot:{marginStart:"xsgj6o6",$$css:!0},adaptiveText:{marginStart:"xsgj6o6",whiteSpace:"xuxw1ft",$$css:!0},middot:{color:"xzsf02u",fontWeight:"xo1l8bm",$$css:!0}};function a(a){var e,f,g=d("react-compiler-runtime").c(43),k=a.followButton;a=a.isAdaptiveRendering;var q=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFeedStoryFollowButtonStrategy_followButton.graphql"),k);c("useCometFeedStoryMatchDebugger")(q);k=(k=q.story)==null?void 0:k.action_links;var r;g[0]!==k?(r=k==null?void 0:k.find(p),g[0]=k,g[1]=r):r=g[1];k=r;var s=((r=q.story)==null?void 0:r.tracking)||"";r=((r=q.story)==null?void 0:r.encrypted_tracking)!=null;var t=(e=q.story)==null?void 0:e.id,u=(k==null?void 0:k.profile)==null||((e=k.profile)==null?void 0:e.id)==null?null:k.profile.id,v=(k==null?void 0:k.profile)==null||((e=k.profile)==null?void 0:e.subscribe_status)==null?null:(e=k.profile)==null?void 0:e.subscribe_status;e=(e=k==null?void 0:k.follow_location)!=null?e:m;f=k!=null&&((f=k.profile)==null?void 0:f.__typename)==="User";e=c("useCometPFTFFollow")(u,v,e,f,s,r);var w=e[0],x=e[1];if(g[2]!==u||g[3]!==t||g[4]!==((f=q.story)==null?void 0:f.post_id)||g[5]!==s){r=function(){u!=null&&t!=null&&c("StoryHeaderFollowProfileFalcoEvent").log(function(){var a;return{event:"IMPRESSION",post_id:(a=q.story)==null?void 0:a.post_id,profile_id:u,story_id:t,tracking:s}})};g[2]=u;g[3]=t;g[4]=(e=q.story)==null?void 0:e.post_id;g[5]=s;g[6]=r}else r=g[6];f=r;e=f();g[7]!==e?(r={onVisible:e},g[7]=e,g[8]=r):r=g[8];f=c("useVisibilityObserver")(r);if(k==null||t==null||Object.entries(k).length===0){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx("span",{}),g[9]=e):e=g[9];return e}g[10]!==w?(r=w?l.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__QdBrIiazWOn__JHASH__")}):l.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:h._(/*BTDS*/"__JHASH__e_NRFMggZJd__JHASH__")}),g[10]=w,g[11]=r):r=g[11];k=r;if(g[12]!==u||g[13]!==w||g[14]!==t||g[15]!==((e=q.story)==null?void 0:e.post_id)||g[16]!==v||g[17]!==s){r=function(){if(u==null||v==null)return o;w?c("StoryHeaderFollowProfileFalcoEvent").log(function(){var a;return{event:"UNFOLLOW",post_id:(a=q.story)==null?void 0:a.post_id,profile_id:u,story_id:t,tracking:s}}):c("StoryHeaderFollowProfileFalcoEvent").log(function(){var a;return{event:"FOLLOW",post_id:(a=q.story)==null?void 0:a.post_id,profile_id:u,story_id:t,tracking:s}})};g[12]=u;g[13]=w;g[14]=t;g[15]=(e=q.story)==null?void 0:e.post_id;g[16]=v;g[17]=s;g[18]=r}else r=g[18];var y=r;g[19]!==y||g[20]!==x?(e=function(){y(),x()},g[19]=y,g[20]=x,g[21]=e):e=g[21];var z=e;g[22]!==a?(r=(j||(j=c("stylex"))).props(a&&n.adaptiveContainer),g[22]=a,g[23]=r):r=g[23];e=a&&n.adaptiveMiddot;var A;g[24]!==e?(A=(j||(j=c("stylex")))([n.middot,e]),g[24]=e,g[25]=A):A=g[25];g[26]!==A?(e=l.jsx(c("BaseMiddot.react"),{className:A}),g[26]=A,g[27]=e):e=g[27];g[28]!==a?(A=(j||(j=c("stylex"))).props(a&&n.adaptiveText),g[28]=a,g[29]=A):A=g[29];g[30]!==z?(a=function(){z()},g[30]=z,g[31]=a):a=g[31];var B;g[32]!==f||g[33]!==a||g[34]!==k?(B=l.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",onClick:a,ref:f,children:k}),g[32]=f,g[33]=a,g[34]=k,g[35]=B):B=g[35];g[36]!==A||g[37]!==B?(f=l.jsx("span",babelHelpers["extends"]({},A,{children:B})),g[36]=A,g[37]=B,g[38]=f):f=g[38];g[39]!==e||g[40]!==f||g[41]!==r?(a=l.jsxs("span",babelHelpers["extends"]({},r,{children:[e,f]})),g[39]=e,g[40]=f,g[41]=r,g[42]=a):a=g[42];return a}function o(){}function p(a){return a.should_use_blue_link===!0}g["default"]=a}),226);
__d("CometFeedStoryFollowButtonStrategy_followButton$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryFollowButtonStrategy_followButton$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_use_blue_link",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[b,a,{kind:"InlineFragment",selections:c,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:c,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_location",storageKey:null}],type:"FollowProfileActionLink",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]}}();e.exports=a}),null);
__d("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI",selections:[{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useProductItem_node",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null}],type:"ProductItem",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useShopProduct_node",selections:b,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("ProductNode",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getId=function(){var a;return(a=(a=this.$1)==null?void 0:a.id)!=null?a:(a=this.$2)==null?void 0:a.id};b.getProductId=function(){var a;return(a=(a=this.$1)==null?void 0:a.product_id)!=null?a:(a=this.$2)==null?void 0:a.product_id};b.getMerchantId=function(){var a;return(a=(a=this.$1)==null?void 0:a.merchant_id)!=null?a:(a=this.$2)==null?void 0:a.merchant_id};return a}();f["default"]=a}),66);
__d("useProductItem_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useProductItem_node"};e.exports=a}),null);
__d("useProductItem",["RelayHooks","react-compiler-runtime","useProductItem_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useProductItem_node.graphql");function a(a){var b=d("react-compiler-runtime").c(5);if(a===void 0)return null;if(b[0]!==a){var c;c=(c=d("RelayHooks").readInlineData(i,a))!=null?c:{};b[0]=a;b[1]=c}else c=b[1];a=c;c=a==null?void 0:a.id;if(c==null)return null;a=a==null?void 0:(a=a.page)==null?void 0:a.id;var e;b[2]!==a||b[3]!==c?(e={id:c,merchant_id:a,product_id:c},b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.useProductItem=a}),98);
__d("useShopProduct_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useShopProduct_node"};e.exports=a}),null);
__d("useShopProduct",["RelayHooks","react-compiler-runtime","useShopProduct_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useShopProduct_node.graphql");function a(a){var b=d("react-compiler-runtime").c(8);if(a===void 0)return null;var c,e;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f;f=(f=d("RelayHooks").readInlineData(i,a))!=null?f:{};f=f==null?void 0:f.id;if(f==null){e=null;break bb0}c=f.split(":")}b[0]=a;b[1]=f;b[2]=c;b[3]=e}else f=b[1],c=b[2],e=b[3];if(e!==Symbol["for"]("react.early_return_sentinel"))return e;a=c;if((a==null?void 0:a.length)!==3||a[0]!=="SP")return null;e=a[1];a=a[2];var g;b[4]!==e||b[5]!==a||b[6]!==f?(g={id:f,merchant_id:e,product_id:a},b[4]=e,b[5]=a,b[6]=f,b[7]=g):g=b[7];return g}g.useShopProduct=a}),98);
__d("CometFeedStoryPhotoAttachmentUtil",["Actor","CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql","CometRelay","ProductNode","XCometCommerceProductItemControllerRouteBuilder","react-compiler-runtime","useProductItem","useShopProduct"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g,i=d("react-compiler-runtime").c(11);a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql"),(a=a)!=null?a:null);var j=d("Actor").useActor();j=j[0];g=(a==null?void 0:(g=a.photo_product_tags)==null?void 0:g.length)||0;var k=null,l=null;a=a==null?void 0:(a=a.photo_product_tags)==null?void 0:a[0];var m=d("useShopProduct").useShopProduct(a==null?void 0:a.shop_product);a=d("useProductItem").useProductItem(a==null?void 0:a.listing);if(i[0]!==j||i[1]!==g||i[2]!==f||i[3]!==e||i[4]!==m||i[5]!==a){var n=new(c("ProductNode"))(m,a);if(g===1){l=n.getProductId();n=n.getMerchantId();l!=null&&j!==n&&(k=c("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:l,ref:e,referral_code:f}))}i[0]=j;i[1]=g;i[2]=f;i[3]=e;i[4]=m;i[5]=a;i[6]=l;i[7]=k}else l=i[6],k=i[7];i[8]!==l||i[9]!==k?(n={productID:l,shopPDPURI:k},i[8]=l,i[9]=k,i[10]=n):n=i[10];return n}g.useGetDirectToPDPInfo=a}),98);
__d("CometFeedStoryPhotoAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachment_attachment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedPhotoBackgroundColorRelay_photo"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_photo_attachment_resolution_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachment_attachment__comet_photo_attachment_resolution_renderer",fragmentName:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer",abstractKey:null}],storageKey:null},{alias:"placeholder_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("MarketplaceAttachmentLoggingUtils",["BaseMiddot.react","MarketplaceClickFalcoEvent","MarketplaceImpressionFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b="unknown";switch(a){case"homepage_stream":b="newsfeed";break;case"timeline":b="timeline";break}return b}function b(a){c("MarketplaceClickFalcoEvent").log(function(){return a})}function d(a){c("MarketplaceImpressionFalcoEvent").log(function(){return a})}function e(a,b){return i.jsxs(i.Fragment,{children:[b,i.jsx(c("BaseMiddot.react"),{}),a]})}e.displayName=e.name+" [from "+f.id+"]";g.getSurfaceFromAttachmentRenderLocation=a;g.logMarketplaceAttachmentClick=b;g.logMarketplaceAttachmentImpression=d;g.getJobsAttachmentMetadata=e}),98);
__d("useOpenPhotoAttachmentKeyCommand",["CometFeedStoryAttachmentCommandWidget","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef;function a(a){var b=k(null),e=i(function(){var a=b.current;a!=null&&a.click()},[]),f=j(function(){return!a?[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","openAttachment",e)]:[]},[e,a]);c("CometFeedStoryAttachmentCommandWidget").useKeyCommands(f);return b}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachment.react",["Actor","CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachmentUtil","CometFeedStoryPhotoAttachment_attachment.graphql","CometFeedUnitQueryVariablesContext","CometMarketplaceComponentLoggingContext","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometTrackingNodesContext","CometWarningScreenContext","CommerceAttachmentLoggingUtils","CommerceTabFeedClickFalcoEvent","MarketplaceAttachmentLoggingUtils","QE2Logger","getAggregatedStoryTrackingNodeIndex","getIsBizWebFeedLocation","gkx","qex","react","react-compiler-runtime","requireDeferred","useCometFeedPhotoBackgroundColorRelay","useCometPhotoViewerPlaceholderPassthroughProps","useMatchViewport","useMinifiedProductAttribution","useOpenPhotoAttachmentKeyCommand"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=c("requireDeferred")("ActnSellerTagProductPillClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),m=c("requireDeferred")("CommercePdpProductTagClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),n=c("gkx")("20935"),o={imageButton:{display:"x1lliihq",":active_transform":"x1pdlv7q",$$css:!0},mediaPressed:{backgroundColor:"xobhos8",$$css:!0}};function a(a){var e,f,g,i=d("react-compiler-runtime").c(62),q=a.adID,r=a.attachment,s=a.featuredCard,t=a.hasProductMatch,u=a.hasProductTags,v=a.heightOverride,w=a.isShopsSYFS,x=a.isUntagged,y=a.marketplaceAttachmentMetadata,z=a.preventInteraction,A=a.productTagLayer,B=a.productTagOverlay,C=a.testid;a=a.urlOverride;r=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachment_attachment.graphql"),r);var D=k(c("CometMarketplaceComponentLoggingContext")).metadata,E=k(c("CometTrackingCodeContext")),F=k(c("CometTrackingNodesContext")),G=c("useMinifiedProductAttribution")(),H=k(c("CometFeedUnitQueryVariablesContext")),I=d("CometWarningScreenContext").useIsOverlayShown(),J=d("CometWarningScreenContext").useHasOverlay(),K;i[0]!==F?(K=c("getAggregatedStoryTrackingNodeIndex")(F),i[0]=F,i[1]=K):K=i[1];F=K;K=((K=r.media)==null?void 0:K.__typename)==="Photo"?r.media:null;e=(e=r.media)==null?void 0:(e=e.placeholder_image)==null?void 0:e.uri;var L;i[2]!==K||i[3]!==e?(L={photo:K,placeholderImageSrc:e},i[2]=K,i[3]=e,i[4]=L):L=i[4];K=c("useCometPhotoViewerPlaceholderPassthroughProps")(L);L=((e=r.media)==null?void 0:e.accessibility_caption)||"";e=a!=null?a:(a=(e=r.media)==null?void 0:e.url)!=null?a:"";a=(a=r.media)==null?void 0:(a=a.focus)==null?void 0:a.x;f=(f=r.media)==null?void 0:(f=f.focus)==null?void 0:f.y;g=(g=r.media)==null?void 0:(g=g.feedback)==null?void 0:g.can_viewer_comment;var M=d("Actor").useActor(),N=M[0],O=(M=r.media)==null?void 0:M.id,P=k(c("CometProductTagFunnelIDContext"));M=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((M=r.media)==null?void 0:M.__typename)==="Photo"?r.media:null);var Q=M.productID;i[5]!==N||i[6]!==q||i[7]!==P||i[8]!==t||i[9]!==u||i[10]!==x||i[11]!==O||i[12]!==Q?(M=function(){if((u===!0||t===!0||x)&&O!=null){var a=t===!0?"unconnected_commerce_product_match_on_newsfeed_"+O:"product_tag_on_newsfeed_"+O;d("CometProductTagLoggingUtils").logProductTagPostClick(q,"CometFeedStoryPhotoAttachment",P,"newsfeed",O,a);Q!=null&&m.onReady(function(b){b.log(function(){return{ad_id:q,component:"CometFeedStoryPhotoAttachment",funnel_id:P,marketplace_surface:"newsfeed",post_id:O,product_id:Q,referral_code:a}})});x===!0&&l.onReady(function(a){a.log(function(){return{container_post_id:O,creator_id:N,platform:"comet",referral_source:"feed_story",shoppable_content_type:"page_post"}})})}},i[5]=N,i[6]=q,i[7]=P,i[8]=t,i[9]=u,i[10]=x,i[11]=O,i[12]=Q,i[13]=M):M=i[13];var R=M;i[14]!==w?(M=function(){if(w!==!0)return;c("CommerceTabFeedClickFalcoEvent").log(p)},i[14]=w,i[15]=M):M=i[15];var S=M;i[16]!==D||i[17]!==G?(M=function(){(D==null?void 0:D.analyticsModule)==="post"&&d("CommerceAttachmentLoggingUtils").logBSGAttachmentProductClick(babelHelpers["extends"]({},D,{navigationChain:G}))},i[16]=D,i[17]=G,i[18]=M):M=i[18];var T=M;i[19]!==y?(M=function(){if(y==null)return;d("MarketplaceAttachmentLoggingUtils").logMarketplaceAttachmentClick(y)},i[19]=y,i[20]=M):M=i[20];var U=M;i[21]!==T||i[22]!==U||i[23]!==R||i[24]!==S?(M=function(){R(),S(),T(),U()},i[21]=T,i[22]=U,i[23]=R,i[24]=S,i[25]=M):M=i[25];M=M;s=s;var V=c("useCometFeedPhotoBackgroundColorRelay")(r.media),W;i[26]===Symbol["for"]("react.memo_cache_sentinel")?(W=c("qex")._("1837"),i[26]=W):W=i[26];W=W;if(i[27]===Symbol["for"]("react.memo_cache_sentinel")){var X;X=(X=c("qex")._("2061"))!=null?X:Number.MAX_VALUE;i[27]=X}else X=i[27];X=X;d("QE2Logger").logExposureForActingAccountImmediately("comet_feed_ui");X=c("useMatchViewport")("max","height",X);r=(r=r.media)==null?void 0:r.comet_photo_attachment_resolution_renderer;X=X&&W!=null?W:void 0;i[28]!==V||i[29]!==L||i[30]!==a||i[31]!==f||i[32]!==v||i[33]!==s||i[34]!==A||i[35]!==B||i[36]!==X?(W={accentColor:V,accessibilityCaption:L,focusX:a,focusY:f,heightOverride:v,isFeaturedCard:s,minCropAspectRatio:X,productTagLayer:A,productTagOverlay:B},i[28]=V,i[29]=L,i[30]=a,i[31]=f,i[32]=v,i[33]=s,i[34]=A,i[35]=B,i[36]=X,i[37]=W):W=i[37];i[38]!==r||i[39]!==W?(V=j.jsx(d("CometRelay").MatchContainer,{match:r,props:W}),i[38]=r,i[39]=W,i[40]=V):V=i[40];L=V;a=z===!0;f=c("useOpenPhotoAttachmentKeyCommand")(a);v=k(c("CometFeedStoryFeedLocationContext"));i[41]!==v?(A=c("getIsBizWebFeedLocation")(v),i[41]=v,i[42]=A):A=i[42];B=A;i[43]!==q||i[44]!==L||i[45]!==g||i[46]!==P||i[47]!==F||i[48]!==s||i[49]!==x||i[50]!==M||i[51]!==B||i[52]!==J||i[53]!==I||i[54]!==K||i[55]!==f||i[56]!==a||i[57]!==C||i[58]!==E||i[59]!==e||i[60]!==(H==null?void 0:H.renderLocation)?(X=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:12,children:a||s===!0?L:j.jsx(c("CometPressable.react"),{display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:F,isUntagged:x,origOverlayShown:I,overlayExists:J,productTagFunnelID:P,shouldShowComments:q==null||g!==!1,storyRenderLocation:H==null?void 0:H.renderLocation,trackingCode:E},K),rel:n||B?void 0:"theater",target:B?"_blank":void 0,url:e},onPress:M,overlayPressedStyle:o.mediaPressed,ref:f,testid:void 0,xstyle:o.imageButton,children:L})}),i[43]=q,i[44]=L,i[45]=g,i[46]=P,i[47]=F,i[48]=s,i[49]=x,i[50]=M,i[51]=B,i[52]=J,i[53]=I,i[54]=K,i[55]=f,i[56]=a,i[57]=C,i[58]=E,i[59]=e,i[60]=H==null?void 0:H.renderLocation,i[61]=X):X=i[61];return X}function p(){return{analytics_component:"product_item",analytics_feed_type:"newsfeed",analytics_module:"shops_you_follow_stories",analytics_page:"home_feed",referral_surface:"unknown",shopping_session_id:""}}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachment_attachment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryPhotoAttachmentStyle.react",["CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachment.react","CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql","CometFeedStoryPhotoAttachmentUtil","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRelay","CometSharedPostInGroupContext","react","react-compiler-runtime","unrecoverableViolation","useCometFeedStoryAttachmentMatchDebugger","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e,f,g,i=d("react-compiler-runtime").c(20),m=a.adID;a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql"),a);var n=a.attachment;c("useCometFeedStoryAttachmentMatchDebugger")(a);a=k(c("CometFeedStoryFeedLocationContext"));var o=k(c("CometSharedPostInGroupContext"));o=o.isSharedPostInGroup;if(n==null)throw c("unrecoverableViolation")("attachment cannot be nullish in CometFeedStoryPhotoAttachmentStyle","comet_feed");e=((e=n.media)==null?void 0:(e=e.creation_story)==null?void 0:(e=e.target_group)==null?void 0:e.id)!=null;a=(a==null?void 0:a.includes("GROUP"))===!0;var p=a?"group_mall":"newsfeed";f=(f=n.media)==null?void 0:f.comet_product_tag_feed_overlay_renderer;var q;i[0]===Symbol["for"]("react.memo_cache_sentinel")?(q={areControlsVisible:!1,isSinglePhoto:!0},i[0]=q):q=i[0];i[1]!==f?(q=j.jsx(d("CometRelay").MatchContainer,{match:f,props:q}),i[1]=f,i[2]=q):q=i[2];f=q;q=(q=n.media)==null?void 0:q.comet_product_tag_dot_hint_renderer;var r;i[3]!==q?(r=j.jsx(d("CometRelay").MatchContainer,{match:q}),i[3]=q,i[4]=r):r=i[4];q=r;r=c("useStable")(l);g=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((g=n.media)==null?void 0:g.__typename)==="Photo"?n.media:null,p,e||a||o?"group_product_tagged_post":"product_tagged_post");e=g.shopPDPURI;g=((a=n.media)==null?void 0:(o=a.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="ProductMatchFeedOverlayRenderer";a=((a=n.media)==null?void 0:(o=a.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="CometProductTagFeedOverlayRenderer";o=((o=n.media)==null?void 0:(o=o.comet_product_tag_feed_overlay_renderer)==null?void 0:o.__typename)==="CometProductSellerTagFeedOverlayRenderer";var s;i[5]!==m||i[6]!==n||i[7]!==g||i[8]!==a||i[9]!==o||i[10]!==q||i[11]!==f||i[12]!==e?(s=j.jsx(c("CometFeedStoryPhotoAttachment.react"),{adID:m,attachment:n,hasProductMatch:g,hasProductTags:a,isUntagged:o,productTagLayer:q,productTagOverlay:f,testid:void 0,urlOverride:e}),i[5]=m,i[6]=n,i[7]=g,i[8]=a,i[9]=o,i[10]=q,i[11]=f,i[12]=e,i[13]=s):s=i[13];i[14]!==p||i[15]!==s?(m=j.jsx(c("CometProductTagReferralCodeContext").Provider,{value:p,children:s}),i[14]=p,i[15]=s,i[16]=m):m=i[16];i[17]!==r||i[18]!==m?(n=j.jsx(c("CometProductTagFunnelIDContext").Provider,{value:r,children:m}),i[17]=r,i[18]=m,i[19]=n):n=i[19];return n}function l(){return c("uuidv4")()}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"MOST_PROMINENT_COLOR"},{kind:"Literal",name:"is_computed_if_missing",value:!1}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"MOST_PROMINENT_COLOR",is_computed_if_missing:false)'},{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},b,{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[a,c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null}],type:"ProductItem",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:d,storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_photo_attachment_resolution_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachment_attachment__comet_photo_attachment_resolution_renderer",fragmentName:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometFeedStoryDynamicResolutionPhotoAttachmentRenderer",abstractKey:null}],storageKey:null},{alias:"placeholder_image",args:[b,{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},c,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:d,storageKey:null},c],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"}]}}();e.exports=a}),null);/*FB_PKG_DELIM*/
__d("Comet360PhotoTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Cylindrical","Equirectangular","TiledCubemap"]);f.Comet360PhotoProjection=a}),66);
__d("CometSphericalPhotoUtils",["Comet360PhotoTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getPhotoSphereMetadata();return a==null?null:h(a)}function h(a){var b=Number(a.CroppedAreaImageWidthPixels)/Number(a.CroppedAreaImageHeightPixels),c=Number(a.CroppedAreaImageWidthPixels)/Number(a.FullPanoWidthPixels)*Math.PI*2,e=Number(a.CroppedAreaImageHeightPixels)/Number(a.FullPanoHeightPixels)*Math.PI*2,f=Number(a.InitialViewHeadingDegrees),g=Number(a.InitialViewPitchDegrees),h=Number(a.InitialViewVerticalFOVDegrees),j=Number(a.CroppedAreaImageHeightPixels)===Number(a.CroppedAreaImageWidthPixels)*2?d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular:d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;switch(a.ProjectionType){case"equirectangular":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular;break;case"cylindrical":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;break}return{aspectRatio:b,horizontalFov:c,projectionType:j,startingView:{heading:i(f),horizontalFov:null,pitch:i(g),verticalFov:h!==0?i(h):null},verticalFov:e}}function i(a){return a/180*Math.PI}g.createEncodingFromSphericalImage=a}),98);
__d("EndianAwareDataView",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=0),this.$2=new DataView(a,c),this.$1=b}var b=a.prototype;b.getByteLength=function(){return this.$2.byteLength};b.getU8=function(a){return this.$2.getUint8(a)};b.getI8=function(a){return this.$2.getInt8(a)};b.getU16=function(a){return this.$2.getUint16(a,this.$1)};b.getI16=function(a){return this.$2.getInt16(a,this.$1)};b.getU32=function(a){return this.$2.getUint32(a,this.$1)};b.getI32=function(a){return this.$2.getInt32(a,this.$1)};b.getF32=function(a){return this.$2.getFloat32(a,this.$1)};return a}();f["default"]=a}),66);
__d("EndianAwareDataReader",["EndianAwareDataView"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=new(c("EndianAwareDataView"))(a,b),this.$1=0}var b=a.prototype;b.canReadU8=function(){return this.$1<this.$2.getByteLength()};b.canReadU16=function(){return this.$1<this.$2.getByteLength()-1};b.canReadU32=function(){return this.$1<this.$2.getByteLength()-3};b.seekTo=function(a){this.$1=a};b.seekRelative=function(a){this.$1+=a};b.readU8=function(){var a=this.$2.getU8(this.$1);this.$1+=1;return a};b.peekU8=function(){return this.$2.getU8(this.$1)};b.readI8=function(){var a=this.$2.getI8(this.$1);this.$1+=1;return a};b.peekI8=function(){return this.$2.getI8(this.$1)};b.readU16=function(){var a=this.$2.getU16(this.$1);this.$1+=2;return a};b.peekU16=function(){return this.$2.getU16(this.$1)};b.readI16=function(){var a=this.$2.getI16(this.$1);this.$1+=2;return a};b.peekI16=function(){return this.$2.getI16(this.$1)};b.readU32=function(){var a=this.$2.getU32(this.$1);this.$1+=4;return a};b.peekU32=function(){return this.$2.getU32(this.$1)};b.readI32=function(){var a=this.$2.getI32(this.$1);this.$1+=4;return a};b.peekI32=function(){return this.$2.getI32(this.$1)};b.readF32=function(){var a=this.$2.getF32(this.$1);this.$1+=4;return a};b.peekF32=function(){return this.$2.getF32(this.$1)};return a}();g["default"]=a}),98);
__d("parseIFDEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.readU16(),c=a.readU16(),d=a.readU32(),e=Object.freeze({offset:a.peekU32(),type:"offset"});switch(c){case 1:case 2:case 7:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU8())}break;case 6:if(d<5){e={type:"data",values:[]};for(f=0;f<d;f++)e.values.push(a.readI8())}break;case 3:if(d<3){e={type:"data",values:[]};for(f=0;f<d;f++)e.values.push(a.readU16())}break;case 8:if(d<3){e={type:"data",values:[]};for(f=0;f<d;f++)e.values.push(a.readI16())}break;case 4:d<2&&(e={type:"data",values:[a.readU32()]});break;case 9:d<2&&(e={type:"data",values:[a.readI32()]});break;case 11:d<2&&(e={type:"data",values:[a.readF32()]});break;case 5:case 10:case 12:a.seekRelative(4);break}return{format:c,tag:b,value:e}}f["default"]=a}),66);
__d("parseIFDTable",["parseIFDEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.readU16(),d=[];for(var e=0;e<b;e++)d.push(c("parseIFDEntry")(a));b=a.readU32();return{entries:d,nextTableOffset:b}}g["default"]=a}),98);
__d("parseTIFFHeader",["EndianAwareDataReader","parseIFDTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=0);var d=new Uint8Array(a,b),e=!0;if(d[0]===77&&d[1]===77)e=!1;else if(d[0]!==73||d[1]!==73)return null;d=new(c("EndianAwareDataReader"))(a,e);d.seekTo(b+2);if(d.readU16()!==42)return null;a=d.readU32();d.seekRelative(a-8);e=c("parseIFDTable")(d);return[e]}g["default"]=a}),98);
__d("extractJPEGOrientationData",["genArrayBufferFromFile","parseTIFFHeader"],(function(a,b,c,d,e,f,g){"use strict";var h=65496,i=65498,j=1165519206;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){var b=new DataView(a);if(b.getUint16(0,!1)!==h)return null;var d=2;while(d<a.byteLength-2&&b.getUint16(d)!==i){var e=b.getUint16(d),f=e&65280;e=e&255;if(f===65280)if(e===225){if(b.getUint32(d+4)!==j||b.getUint16(d+8)!==0)return null;f=c("parseTIFFHeader")(a,d+10);if(f!=null){f=f[0];for(var f=f.entries,g=Array.isArray(f),k=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(g){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;if(l.tag===274){l=l.value;if(l.type==="data"){l=l.values[0];if(l==null)return null;return l===0||l===1||l===2||l===3||l===4||l===5||l===6||l===7||l===8?l:null}return null}}}return null}else if(e!==0&&(e<208||e>217)){l=b.getUint16(d+2,!1);d+=l+2}}return null})}g["default"]=a}),98);
__d("genDimensionsFromImageFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=new Image(),d=new(g||(g=b("Promise")))(function(a,b){c.onload=function(){a({height:c.height,width:c.width})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genDurationAndDimensionsFromVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=document.createElement("video"),d=new(g||(g=b("Promise")))(function(a,b){c.onloadedmetadata=function(){a({duration:c.duration,height:c.videoHeight,width:c.videoWidth})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genIsHEICFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[102,116,121,112],d=[104,101,105,99],e=[104,101,105,120];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(4,8).reduce(function(a,c,d){return a&&c===b[d]},!0);if(!c)return!1;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===d[c]},!0);if(c)return!0;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===e[c]},!0);return c?!0:!1})}g["default"]=a}),98);
__d("genIsNonAnimatedGifFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a[b]===0&&a[b+1]===33&&a[b+2]===249&&a[b+3]===4&&a[b+8]===0&&(a[b+9]===44||a[b+9]===33)}function a(a){var b=[71,73,70,56,55,97],d=[71,73,70,56,57,97];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(0,6).reduce(function(a,c,d){return a&&c===b[d]},!0);if(c)return!0;c=a.slice(0,6).reduce(function(a,b,c){return a&&b===d[c]},!0);if(!c)return!1;c=0;for(var e=6;e+9<a.length;++e){h(a,e)&&c++;if(c>1)return!1}return!0})}g["default"]=a}),98);
__d("readVINT",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=0;b=Math.min(a.length,(b=b)!=null?b:Number.MAX_VALUE);var d=0;while(c<b){var e=a[c];if(e===0)d+=8,c++;else{d+=8-Math.floor(Math.log2(e));if(d>b||d<0)return null;e=g(a,d);return{vintData:e,nextReadOffset:d}}}return null}function g(a,b){var c=Math.floor(b/8),d=a[c],e=8-b%8;e<8&&(d^=1<<e);e=new Uint8Array(new ArrayBuffer(b-c));e[0]=d;e.set(a.slice(c+1,b),1);return e}f["default"]=a}),66);
__d("readEBMLHeader",["$InternalEnum","readVINT"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a*256+b},0)}function i(a){return String.fromCharCode.apply(String,Array.from(a))}var j=b("$InternalEnum")({EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxSizeLength:17139,EBMLMaxIDLength:17138,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029});function k(a){var b=c("readVINT")(a,4);if(b==null)return null;var d=h(a.slice(0,b.nextReadOffset));d=j.cast(d);var e=c("readVINT")(a.slice(b.nextReadOffset));if(e==null)return null;var f=h(e.vintData);b=b.nextReadOffset+e.nextReadOffset;e=b+f;if(e>a.length)return null;f=a.slice(b,e);return{id:d,data:f,nextReadOffset:e}}function l(a){a=k(a);if(a==null||a.id!==j.EBML)return null;a=a.data;var b=new Map(),c=k(a);while(c!=null)c.id!=null&&b.set(c.id,c.data),a=a.slice(c.nextReadOffset),c=k(a);return b}function a(a){var b,c=l(new Uint8Array(a));if(c==null)return null;a=function(a,b){a=c.get(a);if(a==null)return null;else return b(a)};var d=a(j.DocType,i);return d==null?null:{ebmlVersion:(b=a(j.EBMLVersion,h))!=null?b:1,ebmlReadVersion:(b=a(j.EBMLReadVersion,h))!=null?b:1,ebmlMaxIDLength:(b=a(j.EBMLMaxIDLength,h))!=null?b:4,ebmlMaxSizeLength:(b=a(j.EBMLMaxSizeLength,h))!=null?b:8,docType:d,docTypeVersion:(b=a(j.DocTypeVersion,h))!=null?b:1,docTypeReadVersion:(d=a(j.DocTypeReadVersion,h))!=null?d:1}}g["default"]=a}),98);
__d("isValidMKV",["Promise","readEBMLHeader"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a=c("readEBMLHeader")(a);if(a==null)return!1;else return a.ebmlMaxIDLength===4&&a.ebmlMaxSizeLength>=1&&a.ebmlMaxSizeLength<=8&&a.docType==="matroska"}function a(a){return new(h||(h=b("Promise")))(function(b,c){var d=new FileReader();d.onerror=function(){return c(d.error)};d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(i(a)):c()};d.readAsArrayBuffer(a)})}g["default"]=a}),98);
__d("translateMediaViewStateData",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.state!=="CLIENT_PROCESSING_COMPLETE"||a.fileType==="UNKNOWN")return;var b=a.file,c=a.fileType;if(a.fileType==="VIDEO"){a=a.trimData;return{extra:{fileType:c,trimData:a},file:b}}return{extra:{fileType:c},file:b}}f["default"]=a}),66);
__d("CometComposerHeadlessMediaUploaderImpl.react",["CometSphericalPhotoUtils","Promise","convertVideoToPhoto","cr:1029","extractJPEGOrientationData","genDimensionsFromImageFile","genDurationAndDimensionsFromVideoFile","genIsHEICFile","genIsNonAnimatedGifFile","genIsNonAnimatedWebPFile","gkx","isValidMKV","promiseDone","react","recoverableViolation","translateMediaViewStateData","useCometComposerLoggerDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect;function a(a){var e=a.composerUploader,f=a.dispatch;a.isWorkDraftingFor;var g=a.mediaAttachments,i=a.mediaUploadStatuses,l=a.preventDefaultErrorHandler,m=a.useOptimisticMediaPost,n=c("useCometComposerLoggerDispatcher")(),o=j(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_STARTED"},a))},[f]),p=j(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_PROGRESS"},a))},[f]),q=j(function(a){var b=i&&i[a.uploadID];b!=null&&b.resolveFileUpload({attachmentID:a.entID,attachmentType:a.attachmentType})},[i]),r=j(function(a){f({entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,takenTime:a.attachmentType==="PHOTO"?a.takenTime:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID})},[f]),s=j(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_FAILED"},a))},[f]),t=j(function(a){if(a.isSpherical){var b=d("CometSphericalPhotoUtils").createEncodingFromSphericalImage(a.sphericalImage);b&&f({sphericalEncoding:b,type:"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING",uploadID:a.uploadID})}},[f]);k(function(){e.startedObserver.subscribe(o);e.progressObserver.subscribe(p);e.successObserver.subscribe(r);e.errorObserver.subscribe(s);e.sphericalImageDetectedObserver.subscribe(t);m&&e.successObserver.subscribe(q);return function(){e.startedObserver.unsubscribe(o),e.progressObserver.unsubscribe(p),e.successObserver.unsubscribe(r),e.errorObserver.unsubscribe(s),e.sphericalImageDetectedObserver.unsubscribe(t)}});var u=j(function(a){var b=a.map(function(a){return a.file&&((a=a.file)==null?void 0:a.uploadID)}).filter(Boolean);f({type:"MARK_UPLOADS_CLIENT_PROCESSING",uploadIDs:b});a.forEach(function(a){var b;return n({fields:{media_id:(b=(b=a.file)==null?void 0:b.uploadID)!=null?b:"",media_type:a.fileType},type:"MEDIA_UPLOAD_PROCESS_START"})})},[f,n]),v=j(function(a){var d=a.file;if(d)return c("genIsHEICFile")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return(h||(h=b("Promise"))).resolve(a)});else return(h||(h=b("Promise"))).resolve(a)},[f]),w=j(function(a){var d=a.file;if(d)return c("isValidMKV")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_VIDEO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return(h||(h=b("Promise"))).resolve(a)});else return(h||(h=b("Promise"))).resolve(a)},[f]),x=j(function(a){var d=a.file;if(d)return c("genIsNonAnimatedGifFile")(d).then(function(c){c&&f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return(h||(h=b("Promise"))).resolve(a)});else return(h||(h=b("Promise"))).resolve(a)},[f]),y=j(function(a){var d=a.file;return d?c("extractJPEGOrientationData")(d).then(function(c){c!=null&&c>0&&f({attachment:a,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"});return(h||(h=b("Promise"))).resolve(a)})["catch"](function(d){c("recoverableViolation")("An error occurred when parsing an uploaded image","comet_composer",{error:d});return(h||(h=b("Promise"))).resolve(a)}):(h||(h=b("Promise"))).resolve(a)},[f]),z=j(function(a,d){var e=a.file?a.file:void 0,g=a.fileObjectURL,i;if(g!=null)switch(a.fileType){case"PHOTO":i=c("genDimensionsFromImageFile")(g);break;case"VIDEO":i=c("genDurationAndDimensionsFromVideoFile")(g);break}else if(e!=null)switch(a.fileType){case"PHOTO":i=c("genDimensionsFromImageFile")(e);break;case"VIDEO":i=c("genDurationAndDimensionsFromVideoFile")(e);break}else i=(h||(h=b("Promise"))).resolve({duration:null,height:0,width:0});if(i!=null)return i.then(function(b){var c=b.duration,e=b.height;b=b.width;f({attachment:a,height:e,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:b});a.fileType==="VIDEO"&&c!=null&&f({currentIndex:d,type:"SET_VIDEO_ATTACHMENT_METADATA",videoAttachmentMetadata:{originalVideoDurationSeconds:c}})},function(){f({attachment:a,height:0,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:0})})},[f]),A=j(function(a,d){var e=a.file;if(e)return c("genIsNonAnimatedWebPFile")(e).then(function(g){if(g){f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[e==null?void 0:e.uploadID].filter(Boolean)});g=c("convertVideoToPhoto")(a);if(g!=null){g=z(g,d);if(g!=null)return g.then(function(){return(h||(h=b("Promise"))).resolve(a)})}}});var g=z(a,d);if(g!=null)return g.then(function(){return(h||(h=b("Promise"))).resolve(a)})},[f,z]),B=j(function(){var a=(g||[]).map(function(a){return a.state==="NEW"?a:null}).filter(Boolean);a.forEach(function(a,d){var e=a.file.uploadID;e!=null&&(n({fields:{media_id:e,media_type:a.fileType},type:"MEDIA_UPLOAD_FLOW_START"}),n({fields:{media_id:e,media_type:a.fileType},type:"MEDIA_UPLOAD_START"}));e=[];u([a]);a.fileType==="UNKNOWN"&&a.file?(e.push(v(a)),e.push(w(a))):a.fileType==="PHOTO"?e.push(y(a)):a.fileType==="VIDEO"&&a.file.type==="image/gif"&&e.push(x(a));a.fileType==="VIDEO"&&a.file.type==="image/webp"?e.push(A(a,d)):e.push(z(a,d));c("promiseDone")((h||(h=b("Promise"))).all(e).then(function(){var b=[a.file.uploadID].filter(Boolean),c=a.fileType;f({type:"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED",uploadIDs:b});b.forEach(function(a){return n({fields:{media_id:a,media_type:c},type:"MEDIA_UPLOAD_PROCESS_SUCCESS"})})}))})},[A,z,v,w,x,y,f,n,u,g]),C=j(function(){if(g!=null){var a=g.filter(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"}).map(c("translateMediaViewStateData")).filter(Boolean);a.length>0&&(f({type:"QUEUE_UPLOADS",uploadIDs:a.map(function(a){a=a.file;return a.uploadID}).filter(Boolean)}),e.upload(a,l));i&&g.forEach(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&a.file.uploadID!=null){a=i[a.file.uploadID];a!=null&&c("promiseDone")(a.onUploadCancel,function(a){e.cancelUpload(a.attachmentID,a.attachmentType)})}})}},[e,f,g,i]),D=j(function(){b("cr:1029")!==null&&b("cr:1029")(g,f)},[f,g]);k(function(){B(),C(),c("gkx")("22889")||D()},[B,C,D]);return null}g["default"]=a}),98);
__d("useComposerVideoUploaderConfigQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6293020010825217"}),null);
__d("useComposerVideoUploaderConfigQuery.graphql",["useComposerVideoUploaderConfigQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID"},{defaultValue:null,kind:"LocalArgument",name:"entryPoint"},{defaultValue:null,kind:"LocalArgument",name:"targetID"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"entry_point",variableName:"entryPoint"},{kind:"Variable",name:"target_id",variableName:"targetID"}],kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useComposerVideoUploaderConfigQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useComposerVideoUploaderConfigQuery",selections:c},params:{id:b("useComposerVideoUploaderConfigQuery_facebookRelayOperation"),metadata:{},name:"useComposerVideoUploaderConfigQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useComposerVideoUploaderConfig",["CometRelay","emptyObject","useComposerVideoUploaderConfigQuery.graphql","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useComposerVideoUploaderConfigQuery.graphql"),{actorID:(a=a)!=null?a:"",entryPoint:(a=e)!=null?a:"",targetID:(e=f)!=null?e:""});e=a==null?void 0:(f=a.viewer)==null?void 0:f.comet_composer_video_uploader_config;return(f=c("useJSON")((a=e)!=null?a:null))!=null?f:c("emptyObject")}g["default"]=a}),98);
__d("CometComposerHeadlessMediaUploader.react",["Actor","CometComposerHeadlessMediaUploaderImpl.react","FBLogger","GroupCometComposerContext","getComposerMediaFileUploader","react","useComposerVideoUploaderConfig","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;function a(a){var b=a.creationSessionID,e=a.isWorkDraftingFor,f=a.mediaAttachments,g=a.mediaUploadStatuses,h=a.workDraftFor,l=a.forceResetUploaderConfig;a=a.mediaUploadLoggingMetadata;var m=a.composerEntrypointRef,n=a.source;a=c("useComposerViewStateDispatcher")();var o=d("Actor").useActor();o=o[0];var p,q=j(c("GroupCometComposerContext"));q=q.groupID;(h==null?void 0:h.originalActorID)!=null&&q!=null&&(p=q);var r=c("useComposerVideoUploaderConfig")(o,String(m),p);h=k(function(){return babelHelpers["extends"]({},r,{composer_entry_point_ref:m,silent_file_validation:!0,source:n})},[m,n,r]);o=c("getComposerMediaFileUploader")(o,h,b,e,(q=l)!=null?q:!1);h=o[0];b==null&&c("FBLogger")("comet_composer").mustfix("creationSessionID must be defined for the media upload flow. [source]: "+String(n)+" [composerEntrypoint]: "+String(m));return i.jsx(c("CometComposerHeadlessMediaUploaderImpl.react"),{composerUploader:h,dispatch:a,mediaAttachments:f,mediaUploadStatuses:g,preventDefaultErrorHandler:n==="album_uploader",useOptimisticMediaPost:!0})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID,isWorkDraftingFor:a.workDraftFor!=null,mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses,workDraftFor:a.workDraftFor}});g["default"]=e}),98);
__d("cometComposerCheckMediaAttachmentsForPhoto3d",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!a)return;var d=a.reduce(function(a,b){b.state==="UPLOADED"&&b.fileType==="PHOTO"&&a.push(b);return a},[]);if(a.length!==2||d.length!==2)return;a=h(d);d=i(a);if(d==null)return;c("QPLUserFlow").start(c("qpl")._(37631558,"4977"));c("QPLUserFlow").addPoint(c("qpl")._(37631558,"4977"),"three_d_photo_creation_data_provided");b({colorImageIds:d.colorImageIds,depthImageIds:d.depthImageIds,placeholderImage:d.placeholderImage,type:"SET_PHOTO3D_CREATION_DATA"});b({attachmentType:"PHOTO3D",type:"ACTIVATE_ATTACHMENT_TYPE"})}function h(a){var b={},c=["jpg","jpeg","png"];a.forEach(function(a){var d=a.file.name;if(!d)return;var e=d.lastIndexOf(".");if(e<0)return;var f=d.split(".").pop().toLowerCase();if(!c.includes(f))return;f=d.substring(0,e).toLowerCase();d=f.split("_");if(d.length>1&&d.pop().toLowerCase()==="depth"){e=d.join("_");e in b||(b[e]={colorImage:null,depthImage:null});b[e].depthImage=a}else f in b||(b[f]={colorImage:null,depthImage:null}),b[f].colorImage=a});return b}function i(a){var b=Object.keys(a).sort();if(b.length===0)return null;var c=[],d=[],e=null;b.forEach(function(b){b=a[b];var f=b.colorImage;b=b.depthImage;if(!f||!b)return null;var g=f.entID;b=b.entID;if(g==null||b==null)return null;e==null&&(e=f);c.push(g);d.push(b)});return c.length===0||c.length!==d.length||e===null?null:{colorImageIds:c,depthImageIds:d,placeholderImage:e}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FDSPressableFacepileProfilePhoto.react",["CometPressable.react","FDSProfilePhoto.react","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e,f,g,h,k,l;b[0]!==a?(l=a.Container,e=a.FocusItemComponent,f=a.divClassName,g=a.parentRef,h=a.pressableProps,k=babelHelpers.objectWithoutPropertiesLoose(a,["Container","FocusItemComponent","divClassName","parentRef","pressableProps"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6]);a=l===void 0?i.Fragment:l;l=j(!1);var m=l[0],n=l[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a){a=a.intersectionRatio;n(a<.5)},b[7]=l):l=b[7];l=l;var o;b[8]!==g?(o={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=o):o=b[9];l=c("useIntersectionObserver")(l,o);b[10]!==m||b[11]!==h||b[12]!==k?(o=h!=null?i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{disabled:m,children:i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0}))})):i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0})),b[10]=m,b[11]=h,b[12]=k,b[13]=o):o=b[13];b[14]!==a||b[15]!==o?(h=i.jsx(a,{children:o}),b[14]=a,b[15]=o,b[16]=h):h=b[16];b[17]!==e||b[18]!==m||b[19]!==h?(k=i.jsx(e,{disabled:m,children:h}),b[17]=e,b[18]=m,b[19]=h,b[20]=k):k=b[20];b[21]!==f||b[22]!==l||b[23]!==k?(a=i.jsx("div",{className:f,ref:l,role:"listitem",children:k}),b[21]=f,b[22]=l,b[23]=k,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("FDSPressableFacepile.react",["fbt","ix","BaseContainerQueryElement.react","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","FDSIcon.react","FDSPressableFacepileProfilePhoto.react","FDSText.react","FDSTooltip.react","FocusGroup.react","ReactDOM","fbicon","focusScopeQueries","react","react-compiler-runtime","stylex","useIntersectionObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useId,n=b.useRef,o=b.useState;e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var p=e[0],q=e[1],r=4,s=6,t=-4,u={item:{position:"x1n2onr6",$$css:!0},itemWithActivity:{marginStart:"x1mnrxsn",$$css:!0},itemWithSpacing:{marginStart:"xsgj6o6",$$css:!0},overflow24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},overflow28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},overflow32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},overflow40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},overflow48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},overflowItem:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",flexShrink:"x2lah0s",justifyContent:"xl56j7k",pointerEvents:"x71s49j",$$css:!0},overflowItemOverlay:{fill:"x1wnuiir",opacity:"xg01cxk",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},overflowItemOverlayHovered:{fill:"x4bmajx",opacity:"x1hc1fzr",transitionDuration:"x1mq3mr6",$$css:!0},overflowItemOverlayPressed:{fill:"x1tgjyoi",opacity:"x1hc1fzr",transitionDuration:"x1mq3mr6",$$css:!0},overlappingItem:{marginStart:"x139jcc6",$$css:!0},pressableItem:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},rootInline:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",$$css:!0},text:{paddingTop:"xz9dl7a",$$css:!0},textInline:{paddingStart:"x1e558r4",paddingTop:"xexx8yu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(41),e=a.count,f=a.ellipsisTooltip,g=a.isOverlapping,i=a.isTextInline,k=a.items,o=a.linkProps,B=a.onPress,C=a.size,D=a.testid,E=a.testOnly_pressed,F=a.text;a=a.withWrapper;var G=g===void 0?!1:g;g=i===void 0?!1:i;var H=E===void 0?!1:E,I=(i=e)!=null?i:k.length;b[0]!==k?(E=k.some(y),b[0]=k,b[1]=E):E=b[1];e=E;var J=k.some(x),K=G?t:J?s:r,L=Math.min(I,k.length,g?3:Infinity),M=n(null),N=m();i=m();b[2]===Symbol["for"]("react.memo_cache_sentinel")?(E=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"__JHASH__m_OLWX7kM2N__JHASH__"),handler:w},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"__JHASH__XPwbX58ULdf__JHASH__"),handler:v}],b[2]=E):E=b[2];E=E;var O;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(O={className:"x78zum5 x1q0g3np xhsvlbd x16pr9af x6ikm8r x889kno x1a8lsjc x1n2onr6"},b[3]=O):O=b[3];i=F!=null?i:void 0;var P="list",Q=k.slice(0,L).map(function(a,b){var d=a.addOn,e=a.alt,f=a.containerComponent,g=a.isDecorative,h=a.source,i=a.testid;i=babelHelpers.objectWithoutPropertiesLoose(a,["addOn","alt","containerComponent","isDecorative","source","testid"]);g===void 0?!1:g;return l.jsxs(l.Fragment,{children:[l.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(C+K)-K,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),l.jsx(c("FDSPressableFacepileProfilePhoto.react"),{Container:f,FocusItemComponent:q,addOn:d,alt:e,divClassName:(j||(j=c("stylex")))(u.item,b>0&&u.itemWithSpacing,b>0&&J&&u.itemWithActivity,b>0&&G&&u.overlappingItem),isOverlapped:G&&b>0,parentRef:M,pressableProps:i.onPress||i.linkProps?babelHelpers["extends"]({},i,{display:"inline",overlayDisabled:G,overlayRadius:C/2,xstyle:u.pressableItem}):null,role:"listitem",shape:"circle",size:C,source:h,testid:void 0})]},b)}),R;b[4]!==I||b[5]!==f||b[6]!==e||b[7]!==G||b[8]!==k||b[9]!==o||b[10]!==N||b[11]!==L||b[12]!==B||b[13]!==C||b[14]!==K||b[15]!==H||b[16]!==D?(R=!e&&(B||o)&&l.jsxs("div",babelHelpers["extends"]({className:"x1jn9clo x78zum5 x1q0g3np xds687c x17qophe x47corl x10l6tqk x1eu8d0j"},{role:"listitem",children:[k.slice(0,Math.min(k.length,L<I?L:I)).map(function(a,b){return b===0&&I>1?null:l.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(C+K)-K,maxWidth:b===I-1?"100%":C+K,minWidth:0},"overflowPusher"+b)}),l.jsx(A,{FocusItemComponent:q,"aria-label":h._(/*BTDS*/"__JHASH__fu6soEiUs4x__JHASH__"),ellipsisTooltip:f,linkProps:o,onPress:B,overlayDisabled:!0,parentRef:M,size:C,spacing:K,testid:void 0,xstyle:[u.overflowItem,C===24&&u.overflow24,C===28&&u.overflow28,C===32&&u.overflow32,C===40&&u.overflow40,C===48&&u.overflow48],children:function(a){var b=a.hovered;a=a.pressed;return l.jsxs(l.Fragment,{children:[l.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0},{className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{height:C,viewBox:"0 0 "+C+" "+C,width:C,children:[G&&L>1&&l.jsxs("mask",{id:N,suppressHydrationWarning:!0,children:[l.jsx("circle",{cx:C/2,cy:C/2,fill:"white",r:C/2}),l.jsx("circle",{cx:-C/2+4,cy:C/2,fill:"black",r:C/2+2})]}),l.jsx("circle",babelHelpers["extends"]({className:"x1wnuiir",cx:C/2,cy:C/2,r:C/2,suppressHydrationWarning:!0},G&&L>1?{mask:"url(#"+N+")"}:null)),l.jsx("circle",babelHelpers["extends"]({className:(j||(j=c("stylex")))(u.overflowItemOverlay,b&&u.overflowItemOverlayHovered,(a||H)&&u.overflowItemOverlayPressed),cx:C/2,cy:C/2,r:C/2,suppressHydrationWarning:!0},G&&L>1?{mask:"url(#"+N+")"}:null))]})),l.jsx(c("FDSIcon.react"),{color:"white",icon:z(C)})]})}})]})),b[4]=I,b[5]=f,b[6]=e,b[7]=G,b[8]=k,b[9]=o,b[10]=N,b[11]=L,b[12]=B,b[13]=C,b[14]=K,b[15]=H,b[16]=D,b[17]=R):R=b[17];b[18]!==Q||b[19]!==R||b[20]!==O||b[21]!==i?(f=l.jsxs("div",babelHelpers["extends"]({},O,{"aria-describedby":i,ref:M,role:P,children:[Q,R]})),b[18]=Q,b[19]=R,b[20]=O,b[21]=i,b[22]=f):f=b[22];e=f;b[23]!==g?(k=(j||(j=c("stylex"))).props(u.root,g&&u.rootInline),b[23]=g,b[24]=k):k=b[24];b[25]!==e?(o=l.jsx(p,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:e}),b[25]=e,b[26]=o):o=b[26];b[27]!==E||b[28]!==o?(B=l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:E,children:o}),b[27]=E,b[28]=o,b[29]=B):B=b[29];b[30]!==g||b[31]!==F?(P=F!=null?l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(u.text,g&&u.textInline),{children:l.jsx(c("FDSText.react"),{color:"secondary",type:"body3",children:F})})):null,b[30]=g,b[31]=F,b[32]=P):P=b[32];b[33]!==k||b[34]!==B||b[35]!==P||b[36]!==D?(Q=l.jsxs("div",babelHelpers["extends"]({},k,{"data-testid":void 0,children:[B,P]})),b[33]=k,b[34]=B,b[35]=P,b[36]=D,b[37]=Q):Q=b[37];R=Q;b[38]!==R||b[39]!==a?(O=a?l.jsx("div",babelHelpers["extends"]({className:"xn6708d x1swvt13 xyamay9"},{children:R})):R,b[38]=R,b[39]=a,b[40]=O):O=b[40];return O}function v(){}function w(){}function x(a){return((a=a.addOn)==null?void 0:a.type)==="activityBadge"}function y(a){return a.addOn!=null}function z(a){switch(a){case 32:return d("fbicon")._(i("484386"),16);case 40:case 48:return d("fbicon")._(i("484388"),24);default:return d("fbicon")._(i("484385"),12)}}function A(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,i,j;b[0]!==a?(e=a.FocusItemComponent,f=a.ellipsisTooltip,g=a.parentRef,i=a.size,j=a.spacing,h=babelHelpers.objectWithoutPropertiesLoose(a,["FocusItemComponent","ellipsisTooltip","parentRef","size","spacing"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=j):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6]);a=o(!1);var k=a[0],m=a[1];a=o(null);var n=a[0],p=a[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){var b=a.intersectionRatio;d("ReactDOM").flushSync(function(){m(b<.5)})},b[7]=a):a=b[7];a=a;var q;b[8]!==g?(q={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=q):q=b[9];a=c("useIntersectionObserver")(a,q);b[10]!==g||b[11]!==i||b[12]!==j?(q=function(a){if(!a)return;a=g.current;if(!a)return;a=a.getBoundingClientRect();a=a.width;a=Math.floor((a+j)/(i+j));p(a-1)},b[10]=g,b[11]=i,b[12]=j,b[13]=q):q=b[13];q=q;var r;b[14]!==a||b[15]!==h?(r=l.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{ref:a})),b[14]=a,b[15]=h,b[16]=r):r=b[16];a=r;b[17]!==a||b[18]!==f||b[19]!==n||b[20]!==q?(h=f?l.jsx(c("FDSTooltip.react"),{align:"middle",onVisibilityChange:q,position:"below",tooltip:n!=null?f(n):"",children:a}):a,b[17]=a,b[18]=f,b[19]=n,b[20]=q,b[21]=h):h=b[21];b[22]!==e||b[23]!==k||b[24]!==h?(r=l.jsx(e,{disabled:k,children:h}),b[22]=e,b[23]=k,b[24]=h,b[25]=r):r=b[25];return r}g["default"]=a}),226);
__d("GroupsCometMoreActionMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9547660581960082"}),null);
__d("GroupsCometMoreActionMenuQuery$Parameters",["GroupsCometMoreActionMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometMoreActionMenuQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometMoreActionMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometMoreActionMenu.entrypoint",["GroupsCometMoreActionMenuQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{queryReference:{parameters:b("GroupsCometMoreActionMenuQuery$Parameters"),variables:{groupID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometMoreActionMenu.react").__setRef("GroupsCometMoreActionMenu.entrypoint")};g["default"]=a}),98);
__d("GroupsCometJoinButtonWithMenu.react",["fbt","ix","FDSButtonGroup.react","FDSEntryPointPopoverTrigger.react","GroupsCometMoreActionMenu.entrypoint","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.disableSecondaryButton,f=a.groupID,g=a.primaryButtonConfig,j=e===void 0?!1:e;b[0]!==f?(a={groupID:f},b[0]=f,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e={},b[2]=e):e=b[2];b[3]!==j||b[4]!==g?(f=function(a,b,e,f,l,m){return k.jsx(c("FDSButtonGroup.react"),{paddingHorizontal:0,primary:g,secondaryIcon:{disabled:j,icon:d("fbicon")._(i("484386"),16),label:h._(/*BTDS*/"__JHASH__vsPR1PMxOLr__JHASH__"),onHoverIn:f,onHoverOut:l,onPress:b,onPressIn:m,ref:a}})},b[3]=j,b[4]=g,b[5]=f):f=b[5];b[6]!==a||b[7]!==f?(e=k.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:a,otherProps:e,popoverEntryPoint:c("GroupsCometMoreActionMenu.entrypoint"),preloadTrigger:"button",children:f}),b[6]=a,b[7]=f,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("GroupsCometCannotRequestButton.react",["fbt","FDSButton.react","GroupsCometJoinButtonWithMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.groupID;a=a.withMenu;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={disabled:!0,label:h._(/*BTDS*/"__JHASH__G9aZ0LrCHT6__JHASH__"),type:"secondary"},b[0]=f):f=b[0];f=f;b[1]!==e||b[2]!==a?(f=a?j.jsx(c("GroupsCometJoinButtonWithMenu.react"),{groupID:e,primaryButtonConfig:f}):j.jsx(c("FDSButton.react"),babelHelpers["extends"]({},f)),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),226);
__d("GroupsCometJoinedButton.react",["fbt","ix","FDSButton.react","GroupsCometJoinButtonWithMenu.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.groupID,f=a.groupURL,g=a.hasIcon,j=a.isCommunity,l=a.joinedButtonText,m=a.onFooter,n=a.onPressJoined,o=a.openInNewTab,p=a.reduceEmphasis,q=a.source,r=a.useShortenedCTA;a=a.withMenu;var s=g===void 0?!0:g;g=j===void 0?!1:j;j=m===void 0?!1:m;m=r===void 0?!1:r;r=a===void 0?!1:a;var t;if(b[0]!==e||b[1]!==f||b[2]!==s||b[3]!==g||b[4]!==l||b[5]!==j||b[6]!==n||b[7]!==o||b[8]!==p||b[9]!==q||b[10]!==m||b[11]!==r){a=Symbol["for"]("react.early_return_sentinel");bb0:{var u={icon:m?d("fbicon")._(i("647440"),16):void 0,label:m?h._(/*BTDS*/"__JHASH__NEDiHySZPHn__JHASH__"):g?h._(/*BTDS*/"__JHASH__9HfU8OhABSw__JHASH__"):h._(/*BTDS*/"__JHASH__fkv2GLk3eK7__JHASH__"),linkProps:{target:o?"_blank":void 0,url:f},onPress:n,reduceEmphasis:p||!j,type:j?"secondary":"primary"},v=babelHelpers["extends"]({},u,{icon:d("fbicon")._(i("1009563"),16),label:h._(/*BTDS*/"__JHASH__RQa55B9NdZK__JHASH__"),size:"large",type:"secondary"});if(r){a=k.jsx(c("GroupsCometJoinButtonWithMenu.react"),{groupID:e,primaryButtonConfig:u});break bb0}var w=function(){if(l!=null){u.linkProps;var a=babelHelpers.objectWithoutPropertiesLoose(u,["linkProps"]);return babelHelpers["extends"]({},a,{icon:s?d("fbicon")._(i("1009563"),16):void 0,label:l})}switch(q){case"COMET_EVENTS_MEET_YOUR_HOSTS":return v;default:return u}};t=w()}b[0]=e;b[1]=f;b[2]=s;b[3]=g;b[4]=l;b[5]=j;b[6]=n;b[7]=o;b[8]=p;b[9]=q;b[10]=m;b[11]=r;b[12]=t;b[13]=a}else t=b[12],a=b[13];if(a!==Symbol["for"]("react.early_return_sentinel"))return a;w=t;b[14]!==w?(e=k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},w)),b[14]=w,b[15]=e):e=b[15];return e}g["default"]=a}),226);
__d("MessengerEnvironment",["CurrentEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},c("CurrentEnvironment"),{messengerui:!1,roomschatui:!1,setMessengerUI:function(a){h.messengerui=a},setRoomsChatUI:function(a){h.roomschatui=a}});a=h;g["default"]=a}),98);
__d("useGroupsCometMemberCount_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"showOnlyCount"},{defaultValue:"COMPRESSED",kind:"LocalArgument",name:"type"}],kind:"Fragment",metadata:null,name:"useGroupsCometMemberCount_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"GroupMemberProfilesConnection",kind:"LinkedField",name:"group_member_profiles",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"show_only_count",variableName:"showOnlyCount"},{kind:"Variable",name:"type",variableName:"type"}],kind:"ScalarField",name:"formatted_count_text",storageKey:null}],storageKey:null},action:"THROW",path:"group_member_profiles"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometMemberCount",["CometRelay","useGroupsCometMemberCount_group.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.group$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGroupsCometMemberCount_group.graphql"),a);return(a=a.group_member_profiles.formatted_count_text)!=null?a:null}g["default"]=a}),98);
__d("useThrottled",["cr:6101"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:6101")}),34);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef;function a(a,b){b===void 0&&(b=100);var d=k(a);j(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});i(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("FDSContextRowLink.react",["CometLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h;b[0]!==a?(h=a.external,e=a.linkProps,f=a.onPress,g=babelHelpers.objectWithoutPropertiesLoose(a,["external","linkProps","onPress"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!1:h;if(b[5]!==e){h=(h=e)!=null?h:{};b[5]=e;b[6]=h}else h=b[6];var j;if(b[7]!==h){e=h;j=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);b[7]=h;b[8]=e;b[9]=j}else e=b[8],j=b[9];b[10]!==e||b[11]!==j?(h=babelHelpers["extends"]({},e,{href:j}),b[10]=e,b[11]=j,b[12]=h):h=b[12];e=h;j=a?"_blank":void 0;b[13]!==e||b[14]!==f||b[15]!==g||b[16]!==j?(h=i.jsx(c("CometLink.react"),babelHelpers["extends"]({},g,e,{onClick:f,target:j})),b[13]=e,b[14]=f,b[15]=g,b[16]=j,b[17]=h):h=b[17];return h}g["default"]=a}),98);
__d("PagesLoggerEventEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:"click",CREATE:"create",DELETE:"delete",DRAG:"drag",HOVER:"hover",IMPRESSION:"impression",RECEIVE_REQUEST:"receive_request",RECEIVE_RESPONSE:"receive_response",SAVE:"save",SCROLL:"scroll",SEND_REQUEST:"send_request",SEND_RESPONSE:"send_response",UNSAVE:"unsave",UPDATE:"update"});f["default"]=a}),66);
__d("PagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setConnectionClass=function(a){this.$1.connection_class=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setEventTarget=function(a){this.$1.event_target=a;return this};c.setLogSource=function(a){this.$1.log_source=a;return this};c.setNavAttributionIDV2Key=function(a){this.$1.nav_attribution_id_v2_key=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setTags=function(a){this.$1.tags=b("GeneratedLoggerUtils").serializeVector(a);return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={connection_class:!0,event:!0,event_location:!0,event_target:!0,log_source:!0,nav_attribution_id_v2_key:!0,page_id:!0,raw_client_time:!0,sessionid:!0,tags:!0};f["default"]=a}),66);
__d("PagesLogger",["PagesLoggerEventEnum","PagesTypedLogger"],(function(a,b,c,d,e,f){var g="extra_data_",h={log:function(a,c,d,e,f,h){e===void 0&&(e=null);f===void 0&&(f=[]);var i={},j=h||{};Object.keys(j||{}).forEach(function(a){var b=j[a];(b instanceof Array||b instanceof Object)&&(b=JSON.stringify(b));i[g+a]=b});new(b("PagesTypedLogger"))().setPageID(a).setEvent(c).setEventTarget(d).setEventLocation(e).setLogSource("pages_logger").setTags(f).updateExtraData(i).log()},registerLogOnClick:function(a,c,d,e,f,g){e===void 0&&(e=null),f===void 0&&(f=[]),g===void 0&&(g={}),a.addEventListener("click",function(){h.log(c,b("PagesLoggerEventEnum").CLICK,d,e,f,g)})}};e.exports=h}),null);
__d("XCometPageVanityNoMediasetPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/photos/{?set}/{fbid}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometPageVanityPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/photos/{set}/{fbid}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/photo/",Object.freeze({vrnav:!1}),void 0);b=a;g["default"]=b}),98);
__d("getCometMediaURL_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getCometMediaURL_media"};e.exports=a}),null);
__d("getCometMediaURL",["CometRelay","XCometPageVanityNoMediasetPhotoControllerRouteBuilder","XCometPageVanityPhotoControllerRouteBuilder","XCometPhotoControllerRouteBuilder","XCometVideoControllerRouteBuilder","getCometMediaURL_media.graphql","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getCometMediaURL_media.graphql"),a);var g=a==null?void 0:a.id,i=(a==null?void 0:a.is_playable)===!0;f=(f=a==null?void 0:(f=a.owner)==null?void 0:f.uri_token)!=null?f:a==null?void 0:(f=a.owner)==null?void 0:f.id;a=(a==null?void 0:(a=a.owner)==null?void 0:a.__typename)==="Page";if(g==null)return null;if(i)return f==null?null:c("XCometVideoControllerRouteBuilder").buildURL({page_token:f,set:e,story_token:g});else if(a&&f!=null)if(!c("isStringNullOrEmpty")(e))return c("XCometPageVanityPhotoControllerRouteBuilder").buildURL({fbid:g,set:e,vanity:f});else return c("XCometPageVanityNoMediasetPhotoControllerRouteBuilder").buildURL({fbid:g,vanity:f});else return c("XCometPhotoControllerRouteBuilder").buildURL({fbid:g,set:e})}g["default"]=a}),98);
__d("useCometMediaURL_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};a=[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometMediaURL_media",selections:[{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],args:null,argumentDefinitions:[]}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("useCometMediaURL",["CometRelay","getCometMediaURL","react-compiler-runtime","useCometMediaURL_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometMediaURL_media.graphql"),a);var g;f[0]!==a||f[1]!==e?(g=c("getCometMediaURL")(a,e),f[0]=a,f[1]=e,f[2]=g):g=f[2];return g}g["default"]=a}),98);
__d("useOnRoutableDialogClose",["CometRouteRenderType","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a===void 0?"/":a,f=d("CometRouteRenderType").useIsPushView(),g=c("useCometRouterDispatcher")(),h=d("CometRouteRenderType").useIsHosted();b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f?(a=function(){if(g)if(g.popPushView&&f)return g.popPushView();else if(g.goBack&&h)return g.goBack();else return g.go(e,{target:"self"})},b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};c=[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[b,c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[a],storageKey:"profile_picture(height:48,width:48)"}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[b,{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometRemote3DPhotoViewer_photo"},{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:c,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Video",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStory3DPhotoAttachmentStyle.react",["CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql","CometFeedStoryViewportMaxHeightMediaLayout.react","CometPhotoViewerImgRenderer.react","CometPhotoViewerInnerWrapper.react","CometPressable.react","CometRelay","CometRemote3DPhotoViewer.react","getCometMediaURL","gkx","react","react-compiler-runtime","stylex","unrecoverableViolation","useCometFeedStoryAttachmentMatchDebugger","useWebGLContextVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.useState,m={image:{bottom:"x1ey2m1c",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0},mediaPressed:{backgroundColor:"xobhos8",$$css:!0}},n=c("gkx")("20935");function a(a){var e,f,g=d("react-compiler-runtime").c(34);a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer.graphql"),a);c("useCometFeedStoryAttachmentMatchDebugger")(a);var j=l(!1),o=j[0];j=j[1];var p;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(p={rootMargin:{bottom:2e3,top:2e3}},g[0]=p):p=g[0];j=c("useWebGLContextVisibility")(j,p);p=a.attachment;a=p==null?void 0:(a=p.description)==null?void 0:a.text;e=p==null?void 0:(e=p.target)==null?void 0:e.container_story;f=e==null?void 0:(f=e.actors)==null?void 0:f[0];var q=f==null?void 0:f.name;f=f==null?void 0:(f=f.profile_picture)==null?void 0:f.uri;e=e==null?void 0:e.creation_time;if(q!=null&&f!=null&&e!=null&&a!=null){var r;g[1]!==q||g[2]!==f||g[3]!==e||g[4]!==a?(r={actorName:q,actorPhoto:f,description:a,time:e},g[1]=q,g[2]=f,g[3]=e,g[4]=a,g[5]=r):r=g[5];q=r}else q=null;f=q;e=p==null?void 0:p.media;if(e==null)throw c("unrecoverableViolation")("media attachment cannot be null in CometFeedStory3DPhotoAttachment","comet_feed");var s=(r=(a=e.photo_image)==null?void 0:a.uri)!=null?r:"",t=(q=e.accessibility_caption)!=null?q:"",u=(a=(p=e.photo_image)==null?void 0:p.height)!=null?a:0;p=(q=(r=e.photo_image)==null?void 0:r.width)!=null?q:0;g[6]!==e?(a=c("getCometMediaURL")(e,null),g[6]=e,g[7]=a):a=g[7];r=a;g[8]!==t||g[9]!==u||g[10]!==s?(q=k.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){return k.jsx(c("CometPhotoViewerImgRenderer.react"),{alt:t,currentImgSrc:s,height:u,origSrc:s,xstyle:a})}}),g[8]=t,g[9]=u,g[10]=s,g[11]=q):q=g[11];var v=q;g[12]!==v?(a=function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.image,a),{children:v}))},g[12]=v,g[13]=a):a=g[13];g[14]!==u||g[15]!==a||g[16]!==p?(q=k.jsx(c("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:null,mediaHeight:u,mediaWidth:p,children:a}),g[14]=u,g[15]=a,g[16]=p,g[17]=q):q=g[17];a=q;q=a;g[18]!==u||g[19]!==e||g[20]!==s||g[21]!==f||g[22]!==p?(a=k.jsx(c("CometRemote3DPhotoViewer.react"),{fallbackHeight:u,fallbackWidth:p,mediaUri:s,photo:e,storyContext:f}),g[18]=u,g[19]=e,g[20]=s,g[21]=f,g[22]=p,g[23]=a):a=g[23];e=a;g[24]!==r?(f={rel:n?void 0:"theater",url:r},g[24]=r,g[25]=f):f=g[25];g[26]===Symbol["for"]("react.memo_cache_sentinel")?(p={display:"block"},g[26]=p):p=g[26];a=o?e:q;g[27]!==f||g[28]!==a?(r=k.jsx(c("CometPressable.react"),{hideHoverOverlay:!0,linkProps:f,overlayPressedStyle:m.mediaPressed,style:p,children:a}),g[27]=f,g[28]=a,g[29]=r):r=g[29];o=r;e=o;g[30]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x1n2onr6 xh8yej3"},g[30]=q):q=g[30];g[31]!==e||g[32]!==j?(p=k.jsx("div",babelHelpers["extends"]({},q,{ref:j,children:e})),g[31]=e,g[32]=j,g[33]=p):p=g[33];return p}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},e=[c];return{kind:"SplitOperation",metadata:{},name:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[b],storageKey:"profile_picture(height:48,width:48)"},c],storageKey:null},c],storageKey:null}],type:"Photo",abstractKey:null},c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null},c,d,{condition:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_3d_motion_disabled",storageKey:null}]}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[c,d],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:e,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"}]}}();e.exports=a}),null);/*FB_PKG_DELIM*/
__d("useWebGLContextVisibility",["HiddenSubtreePassiveContext","intersectionObserverEntryIsIntersecting","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a,b){var e=d("react-compiler-runtime").c(8),f;e[0]!==b?(f=b===void 0?Object.freeze({}):b,e[0]=b,e[1]=f):f=e[1];b=f;var g=i(c("HiddenSubtreePassiveContext"));e[2]!==a||e[3]!==g?(f=function(b){var d=g.getCurrentState().hiddenOrBackgrounded_FIXME;c("intersectionObserverEntryIsIntersecting")(b)?a(!0):d||a(!1)},e[2]=a,e[3]=g,e[4]=f):f=e[4];f=f;var h;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(h={},e[5]=h):h=e[5];e[6]!==b?(h=babelHelpers["extends"]({root:null,rootMargin:h,threshold:0},b),e[6]=b,e[7]=h):h=e[7];return c("useIntersectionObserver")(f,h)}g["default"]=a}),98);